(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[674],{9009:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return T}});var t=n(2587),i=n(2937);function u(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function o(e,r,n){return r&&u(e.prototype,r),n&&u(e,n),e}function a(e,r){if(!(e instanceof r))throw TypeError("Cannot call a class as a function")}var c=n(9499),l=n(7989),v=n(7294),f=n(9521);function s(e,r,n,t){n=function(e,r){if(null==r)return e;var n="";return r.forEach(function(e){n+="#define "+e+"\n"}),n+e}(n,t);var i=e.createShader(r);return i&&(e.shaderSource(i,n),e.compileShader(i),e.getShaderParameter(i,e.COMPILE_STATUS)||console.trace(e.getShaderInfoLog(i))),i}function m(e,r,n){var t=e.createProgram();return t&&(e.attachShader(t,r),e.attachShader(t,n),e.linkProgram(t),e.getProgramParameter(t,e.LINK_STATUS)||console.trace(e.getProgramInfoLog(t))),t}function d(e,r){for(var n={},t=e.getProgramParameter(r,e.ACTIVE_UNIFORMS),i=0;i<t;i++){var u,o=null===(u=e.getActiveUniform(r,i))||void 0===u?void 0:u.name;o&&(n[o]=e.getUniformLocation(r,o))}return n}var A=n(5893),E=f.ZP.div.withConfig({displayName:"fireCanvas__DIV",componentId:"sc-2h3jq9-0"})(["overflow:hidden;.fire_wrap{position:fixed;width:100vw;height:100vh;vertical-align:bottom;z-index:-1;}"]),h=o(function e(){a(this,e),(0,c.Z)(this,"id",-1),(0,c.Z)(this,"texcoordX",0),(0,c.Z)(this,"texcoordY",0),(0,c.Z)(this,"prevTexcoordX",0),(0,c.Z)(this,"prevTexcoordY",0),(0,c.Z)(this,"deltaX",0),(0,c.Z)(this,"deltaY",0),(0,c.Z)(this,"down",!1),(0,c.Z)(this,"moved",!1),(0,c.Z)(this,"color",{r:30,g:0,b:300})}),R=function(){function e(r,n,t){a(this,e),(0,c.Z)(this,"vertexShader",void 0),(0,c.Z)(this,"fragmentShaderSource",void 0),(0,c.Z)(this,"programs",void 0),(0,c.Z)(this,"activeProgram",void 0),(0,c.Z)(this,"uniforms",void 0),(0,c.Z)(this,"gl",void 0),this.vertexShader=n,this.fragmentShaderSource=t,this.programs=[],this.activeProgram=null,this.uniforms={},this.gl=r}return o(e,[{key:"setKeywords",value:function(e){for(var r=0,n=0;n<e.length;n++)r+=(0,l.un)(e[n]);var t=this.programs[r];if(null==t){var i=s(this.gl,this.gl.FRAGMENT_SHADER,this.fragmentShaderSource,e);if(!i)return;t=m(this.gl,this.vertexShader,i),this.programs[r]=t}t&&t!=this.activeProgram&&(this.uniforms=d(this.gl,t),this.activeProgram=t)}},{key:"bind",value:function(){this.gl.useProgram(this.activeProgram)}}]),e}(),g=function(){function e(r,n,t){a(this,e),(0,c.Z)(this,"uniforms",void 0),(0,c.Z)(this,"program",void 0),(0,c.Z)(this,"gl",void 0),this.gl=r,this.program=m(r,n,t),this.program&&(this.uniforms=d(r,this.program))}return o(e,[{key:"bind",value:function(){this.gl.useProgram(this.program)}}]),e}(),T=function(){var e=(0,v.useRef)(null),r=(0,v.useRef)(),n=(0,v.useRef)(function(){}),u=(0,v.useRef)(),o=(0,v.useRef)([]),a=(0,v.useRef)([]),c=(0,v.useRef)(null),l=(0,v.useRef)(null),f=(0,v.useRef)(null),m=(0,v.useRef)(null),d=(0,v.useRef)(null),T=(0,v.useRef)(null),x=(0,v.useRef)(null),S=(0,v.useRef)(null),p=(0,v.useRef)(null),D=(0,v.useRef)(null),U=(0,v.useRef)(null),B=(0,v.useRef)(null),w=(0,v.useRef)(null),F=(0,v.useRef)(null),y=(0,v.useRef)(null),I=(0,v.useRef)(null),N=(0,v.useRef)(null),O=(0,v.useRef)(null),L=(0,v.useRef)(),b=(0,v.useRef)(),C=(0,v.useRef)(),M=(0,v.useRef)(),P=(0,v.useRef)(),G=(0,v.useRef)(),X=(0,v.useRef)([]),z=(0,v.useRef)(),V=(0,v.useRef)(),Y=(0,v.useRef)(Date.now()),_=(0,v.useRef)(0),k={SIM_RESOLUTION:128,DYE_RESOLUTION:1024,CAPTURE_RESOLUTION:512,DENSITY_DISSIPATION:1,VELOCITY_DISSIPATION:.2,PRESSURE:.8,PRESSURE_ITERATIONS:20,CURL:30,SPLAT_RADIUS:.25,SPLAT_FORCE:6e3,SHADING:!0,COLORFUL:!0,COLOR_UPDATE_SPEED:10,PAUSED:!1,BACK_COLOR:{r:0,g:0,b:0},TRANSPARENT:!1,BLOOM:!0,BLOOM_ITERATIONS:8,BLOOM_RESOLUTION:256,BLOOM_INTENSITY:.8,BLOOM_THRESHOLD:.6,BLOOM_SOFT_KNEE:.7,SUNRAYS:!0,SUNRAYS_RESOLUTION:196,SUNRAYS_WEIGHT:1};function Q(e,r,n){var t,i,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(t=e.createTexture(),e.bindTexture(e.TEXTURE_2D,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texImage2D(e.TEXTURE_2D,0,r,4,4,0,n,u,null),i=e.createFramebuffer(),e.bindFramebuffer(e.FRAMEBUFFER,i),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0),e.checkFramebufferStatus(e.FRAMEBUFFER)!=e.FRAMEBUFFER_COMPLETE){if(e instanceof WebGLRenderingContext)return null;switch(r){case e.R16F:return Q(e,e.RG16F,e.RG,u);case e.RG16F:return Q(e,e.RGBA16F,e.RGBA,u);default:return null}}return{internalFormat:r,format:n}}function H(){var e=r.current,n=u.current;if(e&&n){var t=el(k.SIM_RESOLUTION),i=el(k.DYE_RESOLUTION),o=n.halfFloatTexType,a=n.formatRGBA,c=n.formatRG,l=n.formatR,v=n.supportLinearFiltering?e.LINEAR:e.NEAREST;e.disable(e.BLEND),null==L.current?L.current=Z(i.width,i.height,null==a?void 0:a.internalFormat,null==a?void 0:a.format,o,v):L.current=J(L.current,i.width,i.height,null==a?void 0:a.internalFormat,null==a?void 0:a.format,o,v),null==b.current?b.current=Z(t.width,t.height,null==c?void 0:c.internalFormat,null==c?void 0:c.format,o,v):b.current=J(b.current,t.width,t.height,null==c?void 0:c.internalFormat,null==c?void 0:c.format,o,v),C.current=K(t.width,t.height,null==l?void 0:l.internalFormat,null==l?void 0:l.format,o,e.NEAREST),M.current=K(t.width,t.height,null==l?void 0:l.internalFormat,null==l?void 0:l.format,o,e.NEAREST),P.current=Z(t.width,t.height,null==l?void 0:l.internalFormat,null==l?void 0:l.format,o,e.NEAREST),function(){var e=r.current,n=u.current;if(e&&n){var t=el(k.BLOOM_RESOLUTION),i=n.halfFloatTexType,o=n.formatRGBA,a=n.supportLinearFiltering?e.LINEAR:e.NEAREST;G.current=K(t.width,t.height,null==o?void 0:o.internalFormat,null==o?void 0:o.format,i,a),X.current.length=0;for(var c=0;c<k.BLOOM_ITERATIONS;c++){var l=t.width>>c+1,v=t.height>>c+1;if(l<2||v<2)break;var f=K(l,v,null==o?void 0:o.internalFormat,null==o?void 0:o.format,i,a);X.current.push(f)}}}(),function(){var e=r.current,n=u.current;if(e&&n){var t=el(k.SUNRAYS_RESOLUTION),i=n.halfFloatTexType,o=n.formatR,a=n.supportLinearFiltering?e.LINEAR:e.NEAREST;z.current=K(t.width,t.height,null==o?void 0:o.internalFormat,null==o?void 0:o.format,i,a),V.current=K(t.width,t.height,null==o?void 0:o.internalFormat,null==o?void 0:o.format,i,a)}}()}}function K(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=r.current;null==a||a.activeTexture(a.TEXTURE0);var c=(null==a?void 0:a.createTexture())||null;null==a||a.bindTexture(a.TEXTURE_2D,c),null==a||a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,o),null==a||a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,o),null==a||a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),null==a||a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE),null==a||a.texImage2D(a.TEXTURE_2D,0,t,e,n,0,i,u,null);var l=(null==a?void 0:a.createFramebuffer())||null;return null==a||a.bindFramebuffer(a.FRAMEBUFFER,l),null==a||a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,c,0),null==a||a.viewport(0,0,e,n),null==a||a.clear(a.COLOR_BUFFER_BIT),{texture:c,fbo:l,width:e,height:n,texelSizeX:1/e,texelSizeY:1/n,attach:function(e){return null==a||a.activeTexture(a.TEXTURE0+e),null==a||a.bindTexture(a.TEXTURE_2D,c),e}}}function Z(e,r,n,t,i,u){var o=K(e,r,n,t,i,u),a=K(e,r,n,t,i,u);return{width:e,height:r,texelSizeX:o.texelSizeX,texelSizeY:o.texelSizeY,get read(){return o},set read(value){o=value},get write(){return a},set write(value){a=value},swap:function(){var e=o;o=a,a=e}}}function J(e,t,i,u,o,a,c){var v,f,s,m,d;return e.width==t&&e.height==i||(e.read=(v=e.read,m=r.current,d=K(t,i,u,o,a,c),null===(f=l.current)||void 0===f||f.bind(),(null===(s=l.current)||void 0===s?void 0:s.uniforms)&&(null==m||m.uniform1i(l.current.uniforms.uTexture,v.attach(0))),n.current(d),d),e.write=K(t,i,u,o,a,c),e.width=t,e.height=i,e.texelSizeX=1/t,e.texelSizeY=1/i),e}function j(){var r=e.current;if(!r)return!1;var n=ev(r.clientWidth),t=ev(r.clientHeight);return(r.width!=n||r.height!=t)&&(r.width=n,r.height=t,!0)}function W(e){for(var r=0;r<e;r++){var n=ec();n.r*=10,n.g*=10,n.b*=10,q(Math.random(),Math.random(),1e3*(Math.random()-.5),1e3*(Math.random()-.5),n)}}function q(t,i,u,o,a){if(null!==(c=U.current)&&void 0!==c&&c.uniforms){var c,l=r.current,v=e.current;b.current&&l&&v&&(U.current.bind(),l.uniform1i(U.current.uniforms.uTarget,b.current.read.attach(0)),l.uniform1f(U.current.uniforms.aspectRatio,v.width/v.height),l.uniform2f(U.current.uniforms.point,t,i),l.uniform3f(U.current.uniforms.color,u,o,0),l.uniform1f(U.current.uniforms.radius,function(r){var n=e.current;if(!n)return r;var t=n.width/n.height;return t>1&&(r*=t),r}(k.SPLAT_RADIUS/100)),n.current(b.current.write),b.current.swap(),L.current&&(l.uniform1i(U.current.uniforms.uTarget,L.current.read.attach(0)),l.uniform3f(U.current.uniforms.color,a.r,a.g,a.b),n.current(L.current.write),L.current.swap()))}}function $(e){var r=ev(e.offsetX),n=ev(e.offsetY),t=o.current.find(function(e){return -1==e.id});null==t&&(t=new h),eo(t,-1,r,n)}function ee(e){var r=o.current[0];null!=r&&r.down&&ea(r,ev(e.offsetX),ev(e.offsetY))}function er(e){var r;o.current[0].down=!1}function en(e){e.preventDefault();for(var r=e.targetTouches,n=JSON.parse(JSON.stringify(o));r.length>=o.current.length;)o.current=[].concat(function(e){if(Array.isArray(e))return(0,t.Z)(e)}(n)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||(0,i.Z)(n)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[new h]);for(var u=0;u<r.length;u++){var a=ev(r[u].pageX),c=ev(r[u].pageY);eo(o.current[u+1],r[u].identifier,a,c)}}function et(e){e.preventDefault();for(var r=e.targetTouches,n=0;n<r.length;n++){var t=o.current[n+1];t.down&&ea(t,ev(r[n].pageX),ev(r[n].pageY))}}function ei(e){for(var r=e.changedTouches,n=function(e){var n=o.current.find(function(n){return n.id==r[e].identifier});if(null==n)return"continue";n.down=!1},t=0;t<r.length;t++)if("continue"===n(t))continue}function eu(e){"KeyP"===e.code&&(k.PAUSED=!k.PAUSED)," "===e.key&&a.current.push(parseInt(String(20*Math.random()))+5)}function eo(r,n,t,i){var u=e.current;u&&(r.id=n,r.down=!0,r.moved=!1,r.texcoordX=t/u.width,r.texcoordY=1-i/u.height,r.prevTexcoordX=r.texcoordX,r.prevTexcoordY=r.texcoordY,r.deltaX=0,r.deltaY=0,r.color=ec())}function ea(r,n,t){var i=e.current;i&&(r.prevTexcoordX=r.texcoordX,r.prevTexcoordY=r.texcoordY,r.texcoordX=n/i.width,r.texcoordY=1-t/i.height,r.deltaX=function(r){var n=e.current;if(!n)return r;var t=n.width/n.height;return t<1&&(r*=t),r}(r.texcoordX-r.prevTexcoordX),r.deltaY=function(r){var n=e.current;if(!n)return r;var t=n.width/n.height;return t>1&&(r/=t),r}(r.texcoordY-r.prevTexcoordY),r.moved=Math.abs(r.deltaX)>0||Math.abs(r.deltaY)>0)}function ec(){var e=function(e,r,n){var t,i,u,o,a,c=0,l=0,v=0;switch(t=Math.floor(6*e),i=6*e-t,u=n*(1-r),o=n*(1-i*r),a=n*(1-(1-i)*r),t%6){case 0:c=n,l=a,v=u;break;case 1:c=o,l=n,v=u;break;case 2:c=u,l=n,v=a;break;case 3:c=u,l=o,v=n;break;case 4:c=a,l=u,v=n;break;case 5:c=n,l=u,v=o}return{r:c,g:l,b:v}}(Math.random(),1,1);return e.r*=.15,e.g*=.15,e.b*=.15,e}function el(e){var n=Math.round(e),t=r.current;if(!t)return{width:0,height:0};var i=t.drawingBufferWidth/t.drawingBufferHeight;i<1&&(i=1/i);var u=Math.round(e*i);return t.drawingBufferWidth>t.drawingBufferHeight?{width:u,height:n}:{width:n,height:u}}function ev(e){return Math.floor(e*(window.devicePixelRatio||1))}return(0,v.useEffect)(function(){if(console.log(k),e.current){var t,i,v,A,E,K,Z,J,eo,ea,el,ev,ef,es=e.current;j(),o.current=[new h];var em=(t=e.current,J={alpha:!0,depth:!1,stencil:!1,antialias:!1,preserveDrawingBuffer:!1},(ea=!!(eo=t.getContext("webgl2",J))&&eo instanceof WebGL2RenderingContext)||(eo=t.getContext("webgl",J)||t.getContext("experimental-webgl",J)),ea?(eo.getExtension("EXT_color_buffer_float"),A=eo.getExtension("OES_texture_float_linear")):(v=eo.getExtension("OES_texture_half_float"),A=eo.getExtension("OES_texture_half_float_linear")),eo.clearColor(0,0,0,1),el=eo instanceof WebGL2RenderingContext?eo.HALF_FLOAT:null===(i=v)||void 0===i?void 0:i.HALF_FLOAT_OES,eo instanceof WebGL2RenderingContext?(E=Q(eo,eo.RGBA16F,eo.RGBA,el),K=Q(eo,eo.RG16F,eo.RG,el),Z=Q(eo,eo.R16F,eo.RED,el)):(E=Q(eo,eo.RGBA,eo.RGBA,el),K=Q(eo,eo.RGBA,eo.RGBA,el),Z=Q(eo,eo.RGBA,eo.RGBA,el)),{gl:eo,ext:{formatRGBA:E,formatRG:K,formatR:Z,halfFloatTexType:el,supportLinearFiltering:A}}),ed=em.gl,eA=em.ext;r.current=ed,u.current=eA,n.current=(ed.bindBuffer(ed.ARRAY_BUFFER,ed.createBuffer()),ed.bufferData(ed.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),ed.STATIC_DRAW),ed.bindBuffer(ed.ELEMENT_ARRAY_BUFFER,ed.createBuffer()),ed.bufferData(ed.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2,0,2,3]),ed.STATIC_DRAW),ed.vertexAttribPointer(0,2,ed.FLOAT,!1,0,0),ed.enableVertexAttribArray(0),function(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];null==e?(ed.viewport(0,0,ed.drawingBufferWidth,ed.drawingBufferHeight),ed.bindFramebuffer(ed.FRAMEBUFFER,null)):(ed.viewport(0,0,e.width,e.height),ed.bindFramebuffer(ed.FRAMEBUFFER,e.fbo)),r&&(ed.clearColor(0,0,0,1),ed.clear(ed.COLOR_BUFFER_BIT)),ed.drawElements(ed.TRIANGLES,6,ed.UNSIGNED_SHORT,0)}),/Mobi|Android/i.test(navigator.userAgent)&&(k.DYE_RESOLUTION=512),eA.supportLinearFiltering||(k.DYE_RESOLUTION=512,k.SHADING=!1,k.BLOOM=!1,k.SUNRAYS=!1);var eE=s(ed,ed.VERTEX_SHADER,"\n    precision highp float;\n  \n    attribute vec2 aPosition;\n    varying vec2 vUv;\n    varying vec2 vL;\n    varying vec2 vR;\n    varying vec2 vT;\n    varying vec2 vB;\n    uniform vec2 texelSize;\n  \n    void main () {\n        vUv = aPosition * 0.5 + 0.5;\n        vL = vUv - vec2(texelSize.x, 0.0);\n        vR = vUv + vec2(texelSize.x, 0.0);\n        vT = vUv + vec2(0.0, texelSize.y);\n        vB = vUv - vec2(0.0, texelSize.y);\n        gl_Position = vec4(aPosition, 0.0, 1.0);\n    }\n  "),eh=s(ed,ed.VERTEX_SHADER,"\n    precision highp float;\n  \n    attribute vec2 aPosition;\n    varying vec2 vUv;\n    varying vec2 vL;\n    varying vec2 vR;\n    uniform vec2 texelSize;\n  \n    void main () {\n        vUv = aPosition * 0.5 + 0.5;\n        float offset = 1.33333333;\n        vL = vUv - texelSize * offset;\n        vR = vUv + texelSize * offset;\n        gl_Position = vec4(aPosition, 0.0, 1.0);\n    }\n  "),eR=s(ed,ed.FRAGMENT_SHADER,"\n    precision mediump float;\n    precision mediump sampler2D;\n  \n    varying vec2 vUv;\n    varying vec2 vL;\n    varying vec2 vR;\n    uniform sampler2D uTexture;\n  \n    void main () {\n        vec4 sum = texture2D(uTexture, vUv) * 0.29411764;\n        sum += texture2D(uTexture, vL) * 0.35294117;\n        sum += texture2D(uTexture, vR) * 0.35294117;\n        gl_FragColor = sum;\n    }\n  "),eg=s(ed,ed.FRAGMENT_SHADER,"\n    precision mediump float;\n    precision mediump sampler2D;\n  \n    varying highp vec2 vUv;\n    uniform sampler2D uTexture;\n  \n    void main () {\n        gl_FragColor = texture2D(uTexture, vUv);\n    }\n  "),eT=s(ed,ed.FRAGMENT_SHADER,"\n    precision mediump float;\n    precision mediump sampler2D;\n  \n    varying highp vec2 vUv;\n    uniform sampler2D uTexture;\n    uniform float value;\n  \n    void main () {\n        gl_FragColor = value * texture2D(uTexture, vUv);\n    }\n  "),ex=s(ed,ed.FRAGMENT_SHADER,"\n    precision mediump float;\n  \n    uniform vec4 color;\n  \n    void main () {\n        gl_FragColor = color;\n    }\n  "),eS=s(ed,ed.FRAGMENT_SHADER,"\n    precision highp float;\n    precision highp sampler2D;\n  \n    varying vec2 vUv;\n    uniform sampler2D uTexture;\n    uniform float aspectRatio;\n  \n    #define SCALE 25.0\n  \n    void main () {\n        vec2 uv = floor(vUv * SCALE * vec2(aspectRatio, 1.0));\n        float v = mod(uv.x + uv.y, 2.0);\n        v = v * 0.1 + 0.8;\n        gl_FragColor = vec4(vec3(v), 1.0);\n    }\n  "),ep="\n    precision highp float;\n    precision highp sampler2D;\n  \n    varying vec2 vUv;\n    varying vec2 vL;\n    varying vec2 vR;\n    varying vec2 vT;\n    varying vec2 vB;\n    uniform sampler2D uTexture;\n    uniform sampler2D uBloom;\n    uniform sampler2D uSunrays;\n    uniform sampler2D uDithering;\n    uniform vec2 ditherScale;\n    uniform vec2 texelSize;\n  \n    vec3 linearToGamma (vec3 color) {\n        color = max(color, vec3(0));\n        return max(1.055 * pow(color, vec3(0.416666667)) - 0.055, vec3(0));\n    }\n  \n    void main () {\n        vec3 c = texture2D(uTexture, vUv).rgb;\n  \n    #ifdef SHADING\n        vec3 lc = texture2D(uTexture, vL).rgb;\n        vec3 rc = texture2D(uTexture, vR).rgb;\n        vec3 tc = texture2D(uTexture, vT).rgb;\n        vec3 bc = texture2D(uTexture, vB).rgb;\n  \n        float dx = length(rc) - length(lc);\n        float dy = length(tc) - length(bc);\n  \n        vec3 n = normalize(vec3(dx, dy, length(texelSize)));\n        vec3 l = vec3(0.0, 0.0, 1.0);\n  \n        float diffuse = clamp(dot(n, l) + 0.7, 0.7, 1.0);\n        c *= diffuse;\n    #endif\n  \n    #ifdef BLOOM\n        vec3 bloom = texture2D(uBloom, vUv).rgb;\n    #endif\n  \n    #ifdef SUNRAYS\n        float sunrays = texture2D(uSunrays, vUv).r;\n        c *= sunrays;\n    #ifdef BLOOM\n        bloom *= sunrays;\n    #endif\n    #endif\n  \n    #ifdef BLOOM\n        float noise = texture2D(uDithering, vUv * ditherScale).r;\n        noise = noise * 2.0 - 1.0;\n        bloom += noise / 255.0;\n        bloom = linearToGamma(bloom);\n        c += bloom;\n    #endif\n  \n        float a = max(c.r, max(c.g, c.b));\n        gl_FragColor = vec4(c, a);\n    }\n  ",eD=s(ed,ed.FRAGMENT_SHADER,"\n    precision mediump float;\n    precision mediump sampler2D;\n  \n    varying vec2 vUv;\n    uniform sampler2D uTexture;\n    uniform vec3 curve;\n    uniform float threshold;\n  \n    void main () {\n        vec3 c = texture2D(uTexture, vUv).rgb;\n        float br = max(c.r, max(c.g, c.b));\n        float rq = clamp(br - curve.x, 0.0, curve.y);\n        rq = curve.z * rq * rq;\n        c *= max(rq, br - threshold) / max(br, 0.0001);\n        gl_FragColor = vec4(c, 0.0);\n    }\n  "),eU=s(ed,ed.FRAGMENT_SHADER,"\n    precision mediump float;\n    precision mediump sampler2D;\n  \n    varying vec2 vL;\n    varying vec2 vR;\n    varying vec2 vT;\n    varying vec2 vB;\n    uniform sampler2D uTexture;\n  \n    void main () {\n        vec4 sum = vec4(0.0);\n        sum += texture2D(uTexture, vL);\n        sum += texture2D(uTexture, vR);\n        sum += texture2D(uTexture, vT);\n        sum += texture2D(uTexture, vB);\n        sum *= 0.25;\n        gl_FragColor = sum;\n    }\n  "),eB=s(ed,ed.FRAGMENT_SHADER,"\n    precision mediump float;\n    precision mediump sampler2D;\n  \n    varying vec2 vL;\n    varying vec2 vR;\n    varying vec2 vT;\n    varying vec2 vB;\n    uniform sampler2D uTexture;\n    uniform float intensity;\n  \n    void main () {\n        vec4 sum = vec4(0.0);\n        sum += texture2D(uTexture, vL);\n        sum += texture2D(uTexture, vR);\n        sum += texture2D(uTexture, vT);\n        sum += texture2D(uTexture, vB);\n        sum *= 0.25;\n        gl_FragColor = sum * intensity;\n    }\n  "),ew=s(ed,ed.FRAGMENT_SHADER,"\n    precision highp float;\n    precision highp sampler2D;\n  \n    varying vec2 vUv;\n    uniform sampler2D uTexture;\n  \n    void main () {\n        vec4 c = texture2D(uTexture, vUv);\n        float br = max(c.r, max(c.g, c.b));\n        c.a = 1.0 - min(max(br * 20.0, 0.0), 0.8);\n        gl_FragColor = c;\n    }\n  "),eF=s(ed,ed.FRAGMENT_SHADER,"\n    precision highp float;\n    precision highp sampler2D;\n  \n    varying vec2 vUv;\n    uniform sampler2D uTexture;\n    uniform float weight;\n  \n    #define ITERATIONS 16\n  \n    void main () {\n        float Density = 0.3;\n        float Decay = 0.95;\n        float Exposure = 0.7;\n  \n        vec2 coord = vUv;\n        vec2 dir = vUv - 0.5;\n  \n        dir *= 1.0 / float(ITERATIONS) * Density;\n        float illuminationDecay = 1.0;\n  \n        float color = texture2D(uTexture, vUv).a;\n  \n        for (int i = 0; i < ITERATIONS; i++)\n        {\n            coord -= dir;\n            float col = texture2D(uTexture, coord).a;\n            color += col * illuminationDecay * weight;\n            illuminationDecay *= Decay;\n        }\n  \n        gl_FragColor = vec4(color * Exposure, 0.0, 0.0, 1.0);\n    }\n  "),ey=s(ed,ed.FRAGMENT_SHADER,"\n    precision highp float;\n    precision highp sampler2D;\n  \n    varying vec2 vUv;\n    uniform sampler2D uTarget;\n    uniform float aspectRatio;\n    uniform vec3 color;\n    uniform vec2 point;\n    uniform float radius;\n  \n    void main () {\n        vec2 p = vUv - point.xy;\n        p.x *= aspectRatio;\n        vec3 splat = exp(-dot(p, p) / radius) * color;\n        vec3 base = texture2D(uTarget, vUv).xyz;\n        gl_FragColor = vec4(base + splat, 1.0);\n    }\n  "),eI=s(ed,ed.FRAGMENT_SHADER,"\n    precision highp float;\n    precision highp sampler2D;\n  \n    varying vec2 vUv;\n    uniform sampler2D uVelocity;\n    uniform sampler2D uSource;\n    uniform vec2 texelSize;\n    uniform vec2 dyeTexelSize;\n    uniform float dt;\n    uniform float dissipation;\n  \n    vec4 bilerp (sampler2D sam, vec2 uv, vec2 tsize) {\n        vec2 st = uv / tsize - 0.5;\n  \n        vec2 iuv = floor(st);\n        vec2 fuv = fract(st);\n  \n        vec4 a = texture2D(sam, (iuv + vec2(0.5, 0.5)) * tsize);\n        vec4 b = texture2D(sam, (iuv + vec2(1.5, 0.5)) * tsize);\n        vec4 c = texture2D(sam, (iuv + vec2(0.5, 1.5)) * tsize);\n        vec4 d = texture2D(sam, (iuv + vec2(1.5, 1.5)) * tsize);\n  \n        return mix(mix(a, b, fuv.x), mix(c, d, fuv.x), fuv.y);\n    }\n  \n    void main () {\n    #ifdef MANUAL_FILTERING\n        vec2 coord = vUv - dt * bilerp(uVelocity, vUv, texelSize).xy * texelSize;\n        vec4 result = bilerp(uSource, coord, dyeTexelSize);\n    #else\n        vec2 coord = vUv - dt * texture2D(uVelocity, vUv).xy * texelSize;\n        vec4 result = texture2D(uSource, coord);\n    #endif\n        float decay = 1.0 + dissipation * dt;\n        gl_FragColor = result / decay;\n    }",eA.supportLinearFiltering?void 0:["MANUAL_FILTERING"]),eN=s(ed,ed.FRAGMENT_SHADER,"\n    precision mediump float;\n    precision mediump sampler2D;\n  \n    varying highp vec2 vUv;\n    varying highp vec2 vL;\n    varying highp vec2 vR;\n    varying highp vec2 vT;\n    varying highp vec2 vB;\n    uniform sampler2D uVelocity;\n  \n    void main () {\n        float L = texture2D(uVelocity, vL).x;\n        float R = texture2D(uVelocity, vR).x;\n        float T = texture2D(uVelocity, vT).y;\n        float B = texture2D(uVelocity, vB).y;\n  \n        vec2 C = texture2D(uVelocity, vUv).xy;\n        if (vL.x < 0.0) { L = -C.x; }\n        if (vR.x > 1.0) { R = -C.x; }\n        if (vT.y > 1.0) { T = -C.y; }\n        if (vB.y < 0.0) { B = -C.y; }\n  \n        float div = 0.5 * (R - L + T - B);\n        gl_FragColor = vec4(div, 0.0, 0.0, 1.0);\n    }\n  "),eO=s(ed,ed.FRAGMENT_SHADER,"\n    precision mediump float;\n    precision mediump sampler2D;\n  \n    varying highp vec2 vUv;\n    varying highp vec2 vL;\n    varying highp vec2 vR;\n    varying highp vec2 vT;\n    varying highp vec2 vB;\n    uniform sampler2D uVelocity;\n  \n    void main () {\n        float L = texture2D(uVelocity, vL).y;\n        float R = texture2D(uVelocity, vR).y;\n        float T = texture2D(uVelocity, vT).x;\n        float B = texture2D(uVelocity, vB).x;\n        float vorticity = R - L - T + B;\n        gl_FragColor = vec4(0.5 * vorticity, 0.0, 0.0, 1.0);\n    }\n  "),eL=s(ed,ed.FRAGMENT_SHADER,"\n    precision highp float;\n    precision highp sampler2D;\n  \n    varying vec2 vUv;\n    varying vec2 vL;\n    varying vec2 vR;\n    varying vec2 vT;\n    varying vec2 vB;\n    uniform sampler2D uVelocity;\n    uniform sampler2D uCurl;\n    uniform float curl;\n    uniform float dt;\n  \n    void main () {\n        float L = texture2D(uCurl, vL).x;\n        float R = texture2D(uCurl, vR).x;\n        float T = texture2D(uCurl, vT).x;\n        float B = texture2D(uCurl, vB).x;\n        float C = texture2D(uCurl, vUv).x;\n  \n        vec2 force = 0.5 * vec2(abs(T) - abs(B), abs(R) - abs(L));\n        force /= length(force) + 0.0001;\n        force *= curl * C;\n        force.y *= -1.0;\n  \n        vec2 velocity = texture2D(uVelocity, vUv).xy;\n        velocity += force * dt;\n        velocity = min(max(velocity, -1000.0), 1000.0);\n        gl_FragColor = vec4(velocity, 0.0, 1.0);\n    }\n  "),eb=s(ed,ed.FRAGMENT_SHADER,"\n    precision mediump float;\n    precision mediump sampler2D;\n  \n    varying highp vec2 vUv;\n    varying highp vec2 vL;\n    varying highp vec2 vR;\n    varying highp vec2 vT;\n    varying highp vec2 vB;\n    uniform sampler2D uPressure;\n    uniform sampler2D uDivergence;\n  \n    void main () {\n        float L = texture2D(uPressure, vL).x;\n        float R = texture2D(uPressure, vR).x;\n        float T = texture2D(uPressure, vT).x;\n        float B = texture2D(uPressure, vB).x;\n        float C = texture2D(uPressure, vUv).x;\n        float divergence = texture2D(uDivergence, vUv).x;\n        float pressure = (L + R + B + T - divergence) * 0.25;\n        gl_FragColor = vec4(pressure, 0.0, 0.0, 1.0);\n    }\n  "),eC=s(ed,ed.FRAGMENT_SHADER,"\n    precision mediump float;\n    precision mediump sampler2D;\n  \n    varying highp vec2 vUv;\n    varying highp vec2 vL;\n    varying highp vec2 vR;\n    varying highp vec2 vT;\n    varying highp vec2 vB;\n    uniform sampler2D uPressure;\n    uniform sampler2D uVelocity;\n  \n    void main () {\n        float L = texture2D(uPressure, vL).x;\n        float R = texture2D(uPressure, vR).x;\n        float T = texture2D(uPressure, vT).x;\n        float B = texture2D(uPressure, vB).x;\n        vec2 velocity = texture2D(uVelocity, vUv).xy;\n        velocity.xy -= vec2(R - L, T - B);\n        gl_FragColor = vec4(velocity, 0.0, 1.0);\n    }\n  ");return c.current=eh&&eR&&new g(ed,eh,eR),l.current=eE&&eg&&new g(ed,eE,eg),f.current=eE&&eT&&new g(ed,eE,eT),m.current=eE&&ex&&new g(ed,eE,ex),d.current=eE&&eS&&new g(ed,eE,eS),T.current=eE&&eD&&new g(ed,eE,eD),x.current=eE&&eU&&new g(ed,eE,eU),S.current=eE&&eB&&new g(ed,eE,eB),p.current=eE&&ew&&new g(ed,eE,ew),D.current=eE&&eF&&new g(ed,eE,eF),U.current=eE&&ey&&new g(ed,eE,ey),B.current=eE&&eI&&new g(ed,eE,eI),w.current=eE&&eN&&new g(ed,eE,eN),F.current=eE&&eO&&new g(ed,eE,eO),y.current=eE&&eL&&new g(ed,eE,eL),I.current=eE&&eb&&new g(ed,eE,eb),N.current=eE&&eC&&new g(ed,eE,eC),O.current=eE&&ep&&new R(ed,eE,ep),ef=[],k.SHADING&&ef.push("SHADING"),k.BLOOM&&ef.push("BLOOM"),k.SUNRAYS&&ef.push("SUNRAYS"),null===(ev=O.current)||void 0===ev||ev.setKeywords(ef),H(),W(parseInt(String(20*Math.random()))+5),function t(){var i,l,v,s,A,E,h,R,g,U,Q,K,Z,J,$,ee,er,en,et,ei,eu,eo,ea=(l=Math.min(l=((i=Date.now())-Y.current)/1e3,.016666),Y.current=i,l);j()&&H(),k.COLORFUL&&(_.current+=ea*k.COLOR_UPDATE_SPEED,_.current>=1&&(_.current=(v=_.current,0==(s=1)?0:(v-0)%s+0),o.current.forEach(function(e){e.color=ec()}))),function(){if(a.current.length>0){var e=a.current.pop();"number"==typeof e&&W(e)}o.current.forEach(function(e){var r,n;e.moved&&(e.moved=!1,r=e.deltaX*k.SPLAT_FORCE,n=e.deltaY*k.SPLAT_FORCE,q(e.texcoordX,e.texcoordY,r,n,e.color))})}(),k.PAUSED||function(e){var t,i,o,a,c,l,v,s,m=r.current,d=u.current;if(m){if(m.disable(m.BLEND),null!==(t=F.current)&&void 0!==t&&t.uniforms&&b.current&&(F.current.bind(),m.uniform2f(F.current.uniforms.texelSize,b.current.texelSizeX,b.current.texelSizeY),m.uniform1i(F.current.uniforms.uVelocity,b.current.read.attach(0)),n.current(M.current)),null!==(i=y.current)&&void 0!==i&&i.uniforms&&b.current&&(y.current.bind(),m.uniform2f(y.current.uniforms.texelSize,b.current.texelSizeX,b.current.texelSizeY),m.uniform1i(y.current.uniforms.uVelocity,b.current.read.attach(0)),M.current&&m.uniform1i(y.current.uniforms.uCurl,M.current.attach(1)),m.uniform1f(y.current.uniforms.curl,k.CURL),m.uniform1f(y.current.uniforms.dt,e),n.current(b.current.write),b.current.swap()),null!==(o=w.current)&&void 0!==o&&o.uniforms&&b.current&&(w.current.bind(),m.uniform2f(w.current.uniforms.texelSize,b.current.texelSizeX,b.current.texelSizeY),m.uniform1i(w.current.uniforms.uVelocity,b.current.read.attach(0)),n.current(C.current)),null!==(a=f.current)&&void 0!==a&&a.uniforms&&b&&P.current&&(f.current.bind(),m.uniform1i(f.current.uniforms.uTexture,P.current.read.attach(0)),m.uniform1f(f.current.uniforms.value,k.PRESSURE),n.current(P.current.write),P.current.swap()),null!==(c=I.current)&&void 0!==c&&c.uniforms&&b.current&&P.current){I.current.bind(),m.uniform2f(I.current.uniforms.texelSize,b.current.texelSizeX,b.current.texelSizeY),C.current&&m.uniform1i(I.current.uniforms.uDivergence,C.current.attach(0));for(var A=0;A<k.PRESSURE_ITERATIONS;A++)m.uniform1i(I.current.uniforms.uPressure,P.current.read.attach(1)),n.current(P.current.write),P.current.swap()}if(null!==(l=N.current)&&void 0!==l&&l.uniforms&&b.current&&(N.current.bind(),m.uniform2f(N.current.uniforms.texelSize,b.current.texelSizeX,b.current.texelSizeY),P.current&&m.uniform1i(N.current.uniforms.uPressure,P.current.read.attach(0)),m.uniform1i(N.current.uniforms.uVelocity,b.current.read.attach(1)),n.current(b.current.write),b.current.swap()),null!==(v=B.current)&&void 0!==v&&v.uniforms&&b.current){B.current.bind(),m.uniform2f(B.current.uniforms.texelSize,b.current.texelSizeX,b.current.texelSizeY),null!=d&&d.supportLinearFiltering||m.uniform2f(B.current.uniforms.dyeTexelSize,b.current.texelSizeX,b.current.texelSizeY);var E=b.current.read.attach(0);m.uniform1i(B.current.uniforms.uVelocity,E),m.uniform1i(B.current.uniforms.uSource,E),m.uniform1f(B.current.uniforms.dt,e),m.uniform1f(B.current.uniforms.dissipation,k.VELOCITY_DISSIPATION),n.current(b.current.write),b.current.swap()}null!==(s=B.current)&&void 0!==s&&s.uniforms&&b.current&&L.current&&(null!=d&&d.supportLinearFiltering||m.uniform2f(B.current.uniforms.dyeTexelSize,L.current.texelSizeX,L.current.texelSizeY),m.uniform1i(B.current.uniforms.uVelocity,b.current.read.attach(0)),m.uniform1i(B.current.uniforms.uSource,L.current.read.attach(1)),m.uniform1f(B.current.uniforms.dissipation,k.DENSITY_DISSIPATION),n.current(L.current.write),L.current.swap())}}(ea),(g=r.current)&&(k.BLOOM&&function(e,t){var i,u,o,a=r.current;if(a&&!(X.current.length<2)){var c=t;if(null!==(i=T.current)&&void 0!==i&&i.uniforms&&e){a.disable(a.BLEND),T.current.bind();var l=k.BLOOM_THRESHOLD*k.BLOOM_SOFT_KNEE+1e-4,v=k.BLOOM_THRESHOLD-l;a.uniform3f(T.current.uniforms.curve,v,2*l,.25/l),a.uniform1f(T.current.uniforms.threshold,k.BLOOM_THRESHOLD),a.uniform1i(T.current.uniforms.uTexture,e.attach(0)),n.current(c)}if(null!==(u=x.current)&&void 0!==u&&u.uniforms&&c){x.current.bind();for(var f=0;f<X.current.length;f++){var s=X.current[f];a.uniform2f(x.current.uniforms.texelSize,c.texelSizeX,c.texelSizeY),a.uniform1i(x.current.uniforms.uTexture,c.attach(0)),n.current(s),c=s}a.blendFunc(a.ONE,a.ONE),a.enable(a.BLEND);for(var m=X.current.length-2;m>=0;m--){var d=X.current[m];a.uniform2f(x.current.uniforms.texelSize,c.texelSizeX,c.texelSizeY),a.uniform1i(x.current.uniforms.uTexture,c.attach(0)),a.viewport(0,0,d.width,d.height),n.current(d),c=d}}a.disable(a.BLEND),null!==(o=S.current)&&void 0!==o&&o.uniforms&&c&&(S.current.bind(),a.uniform2f(S.current.uniforms.texelSize,c.texelSizeX,c.texelSizeY),a.uniform1i(S.current.uniforms.uTexture,c.attach(0)),a.uniform1f(S.current.uniforms.intensity,k.BLOOM_INTENSITY),n.current(t))}}(null===(E=L.current)||void 0===E?void 0:E.read,G.current),k.SUNRAYS&&z.current&&V.current&&(U=null===(h=L.current)||void 0===h?void 0:h.read,Q=null===(R=L.current)||void 0===R?void 0:R.write,K=z.current,($=r.current)&&($.disable($.BLEND),null!==(Z=p.current)&&void 0!==Z&&Z.uniforms&&U&&(p.current.bind(),$.uniform1i(p.current.uniforms.uTexture,U.attach(0)),n.current(Q)),null!==(J=D.current)&&void 0!==J&&J.uniforms&&Q&&(D.current.bind(),$.uniform1f(D.current.uniforms.weight,k.SUNRAYS_WEIGHT),$.uniform1i(D.current.uniforms.uTexture,Q.attach(0)),n.current(K))),function(e,t,i){var u,o=r.current;if(null!==(u=c.current)&&void 0!==u&&u.uniforms&&o){c.current.bind();for(var a=0;a<1;a++)o.uniform2f(c.current.uniforms.texelSize,e.texelSizeX,0),o.uniform1i(c.current.uniforms.uTexture,e.attach(0)),n.current(t),o.uniform2f(c.current.uniforms.texelSize,0,e.texelSizeY),o.uniform1i(c.current.uniforms.uTexture,t.attach(0)),n.current(e)}}(z.current,V.current,0)),null!=A&&k.TRANSPARENT?g.disable(g.BLEND):(g.blendFunc(g.ONE,g.ONE_MINUS_SRC_ALPHA),g.enable(g.BLEND)),k.TRANSPARENT||(er={r:(ee=k.BACK_COLOR).r/255,g:ee.g/255,b:ee.b/255},et=r.current,null!==(en=m.current)&&void 0!==en&&en.uniforms&&er&&(m.current.bind(),null==et||et.uniform4f(m.current.uniforms.color,er.r,er.g,er.b,1),n.current(A))),null==A&&k.TRANSPARENT&&(eu=r.current,eo=e.current,null!==(ei=d.current)&&void 0!==ei&&ei.uniforms&&eo&&(d.current.bind(),null==eu||eu.uniform1f(d.current.uniforms.aspectRatio,eo.width/eo.height),n.current(A))),function(e){var t=r.current;if(t&&G.current){var i=function(e){var n=r.current;if(!n)return null;var t=n.createTexture();n.bindTexture(n.TEXTURE_2D,t),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.REPEAT),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.REPEAT),n.texImage2D(n.TEXTURE_2D,0,n.RGB,1,1,0,n.RGB,n.UNSIGNED_BYTE,new Uint8Array([255,255,255]));var i={texture:t,width:1,height:1,attach:function(e){return n.activeTexture(n.TEXTURE0+e),n.bindTexture(n.TEXTURE_2D,t),e}},u=new Image;return u.setAttribute("crossOrigin","Anonymous"),u.onload=function(){i.width=u.width,i.height=u.height,n.bindTexture(n.TEXTURE_2D,t),n.texImage2D(n.TEXTURE_2D,0,n.RGB,n.RGB,n.UNSIGNED_BYTE,u)},u.src=e,i}("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAbkklEQVR4nD3b%0AZdhVVRMG4KVY2Ah2t2Jid3diYRd2d7fYYAvYIAaCCioo2I2BYHd3d+f43XNd%0A870/99l7rYknZu1z3rbmmmvGb7/9FmPHjo077rgjlltuuejbt2/stttucfbZ%0AZ8fxxx8fq622Whx00EExfvz4mHXWWeONN96Iyy+/PPbZZ5/4888/Y7PNNsv7%0APv744+jQoUNstdVW8cUXX8TAgQNjscUWix9//DEOPPDAWGihheKkk06KnXfe%0AOZ5++umYd95547PPPov77rsv/v3333juuefi0ksvjammmiq23XbbOOuss+LX%0AX3+NJ554ImN7//33Y+WVV46ddtopzjjjjBgyZEh069YtRo0aFX369Mm9V1pp%0ApbjxxhszzmeffTamnHLKjOfxxx+PiSaaKAYMGJD3W8O6bejQofnwTDPNFKec%0Ackom6k9wL774Ymy++ebxyCOPxJ133hnnn39+3HzzzTHFFFPEuuuuG6effnrc%0AfffduZnAl1hiiXjooYfCmmuttVYmIrlNNtkkWmu54XXXXZefXXLJJXHrrbfG%0Avvvum4kKfPfdd8/1Pv/88xg0aFAcccQRMc8888SGG24YE044YXz77bd5/f77%0A749JJpkkfvrpp3jzzTdjzjnnzHjE+fPPP2fxrC++33//Pff54IMPcq+vvvoq%0App9++nzuqKOOivb1119nFT101VVXZRctNs0008RNN92UDyjOkksuGT169Ihj%0AjjkmA3nsscdihx12yEDeeeedrPp+++0XXbp0yQIee+yxGcRLL70Up512Wmy3%0A3XZhL5svs8wy8csvv0SnTp0yuWuvvTb3mHTSSePkk0+ORRZZJNZYY4148MEH%0AM9Bdd901Tj311JhxxhkTJYsvvngcdthhcfHFF8c222wTe++9d3zyyScZG5Tt%0Av//+8e6772ah5QatimRtz3puxRVXjMknnzyajqnMK6+8khDq2rVrdkonXNfZ%0ACSaYIN577734+++/Y5VVVsmu6CR4q/iqq64azz//fJx55pmx/fbbx5NPPhnz%0Azz9/rLDCCpno7LPPHsOGDctADj/88Ezs5ZdfTsSNGDEiC/r6669nUUEeCmeZ%0AZZb4/vvvE01LL710NgeNtthii/jjjz9ittlmy/vFM3z48Ljiiiuic+fOGQe6%0A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%0ARK5CYII="),u=null==e?t.drawingBufferWidth:e.width,o=null==e?t.drawingBufferHeight:e.height;if(O.current&&L.current){if(O.current.bind(),k.SHADING&&t.uniform2f(O.current.uniforms.texelSize,1/u,1/o),t.uniform1i(O.current.uniforms.uTexture,L.current.read.attach(0)),k.BLOOM&&i){t.uniform1i(O.current.uniforms.uBloom,G.current.attach(1)),t.uniform1i(O.current.uniforms.uDithering,i.attach(2));var a={x:u/i.width,y:o/i.height};t.uniform2f(O.current.uniforms.ditherScale,a.x,a.y)}k.SUNRAYS&&z.current&&t.uniform1i(O.current.uniforms.uSunrays,z.current.attach(3)),n.current(e)}}}(A)),requestAnimationFrame(t)}(),es.addEventListener("mousedown",$),es.addEventListener("mousemove",ee),window.addEventListener("mouseup",er),es.addEventListener("touchstart",en),es.addEventListener("touchmove",et,!1),window.addEventListener("touchend",ei),window.addEventListener("keydown",eu),function(){!function(){if(e.current){var r=e.current;r.removeEventListener("mousedown",$),r.removeEventListener("mousemove",ee),window.removeEventListener("mouseup",er),r.removeEventListener("touchstart",en),r.removeEventListener("touchmove",et,!1),window.removeEventListener("touchend",ei),window.removeEventListener("keydown",eu)}}()}}},[]),(0,A.jsx)(E,{children:(0,A.jsx)("canvas",{className:"fire_wrap",ref:e})})}},8748:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/demos/components/fireCanvas",function(){return n(9009)}])}},function(e){e.O(0,[774,888,179],function(){return e(e.s=8748)}),_N_E=e.O()}]);