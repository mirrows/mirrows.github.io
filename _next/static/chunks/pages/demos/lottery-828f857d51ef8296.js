(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[59],{2999:function(e,t,n){"use strict";var r=n(9499),c=n(4730),a=n(7294),i=n(5893),o=n(3454),l=["loadingPic","src","className","beforeLoad","onLoad","noReload","children","isShow"];function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}t.Z=function(e){var t=e.loadingPic,n=e.src,u=e.className,p=(e.beforeLoad,e.onLoad),d=void 0===p?function(e){return Promise.resolve(e)}:p,_=e.noReload,f=void 0!==_&&_,h=e.children,m=e.isShow,g=void 0===m||m,y=(0,c.Z)(e,l),v=(0,a.useRef)(t||"https://wsrv.nl/?url=raw.githubusercontent.com/mirrows/photo/main/normal/2023_09_10/pic1694333133502339.gif&w=130&fit=cover&n=-1&q=80"),w=(0,a.useRef)(o.env.NEXT_PUBLIC_FAIL_IMG),b=(0,a.useState)(v.current),j=b[0],x=b[1],k=(0,a.useState)(!1),O=k[0],N=k[1],S=(0,a.useRef)(null),C=(0,a.useRef)(0);return(0,a.useEffect)(function(){if(!C.current){var e,t,r=document.documentElement.clientHeight,c=document.documentElement.clientWidth;f||null===(e=S.current)||void 0===e||e.classList.add("lazy"),N(!1),S.current&&!(S.current.getBoundingClientRect().top<-S.current.clientHeight||S.current.getBoundingClientRect().top>1.5*r)&&!(S.current.getBoundingClientRect().left<-c||S.current.getBoundingClientRect().left>1.5*c)&&S.current.getBoundingClientRect().width&&S.current.getBoundingClientRect().height&&g&&(f&&(C.current=1),null===(t=S.current)||void 0===t||t.classList.remove("lazy"),x(n))}},[n,g,f]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("img",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({className:"".concat(u?"lazy ".concat(u):"lazy"),ref:S,src:j,"data-src":n,alt:"",onLoad:function(){var e;N(!0),n===(null===(e=S.current)||void 0===e?void 0:e.src)&&d(n)},onError:function(){var e;null===(e=S.current)||void 0===e||e.classList.add("lazy"),x(w.current),N(!0)}},y)),O||h]})}},8e3:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AmpStateContext=void 0;var r=(0,n(2648).Z)(n(7294)).default.createContext({});t.AmpStateContext=r},9470:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isInAmpMode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.ampFirst,n=e.hybrid,r=e.hasQuery;return void 0!==t&&t||void 0!==n&&n&&void 0!==r&&r}},2717:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultHead=u,t.default=void 0;var r=n(6495).Z,c=n(2648).Z,a=(0,n(1598).Z)(n(7294)),i=c(n(1585)),o=n(8e3),l=n(5850),s=n(9470);function u(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=[a.default.createElement("meta",{charSet:"utf-8"})];return e||t.push(a.default.createElement("meta",{name:"viewport",content:"width=device-width"})),t}function p(e,t){return"string"==typeof t||"number"==typeof t?e:t.type===a.default.Fragment?e.concat(a.default.Children.toArray(t.props.children).reduce(function(e,t){return"string"==typeof t||"number"==typeof t?e:e.concat(t)},[])):e.concat(t)}n(6065);var d=["name","httpEquiv","charSet","itemProp"];function _(e,t){var n,c,i,o,l=t.inAmpMode;return e.reduce(p,[]).reverse().concat(u(l).reverse()).filter((n=new Set,c=new Set,i=new Set,o={},function(e){var t=!0,r=!1;if(e.key&&"number"!=typeof e.key&&e.key.indexOf("$")>0){r=!0;var a=e.key.slice(e.key.indexOf("$")+1);n.has(a)?t=!1:n.add(a)}switch(e.type){case"title":case"base":c.has(e.type)?t=!1:c.add(e.type);break;case"meta":for(var l=0,s=d.length;l<s;l++){var u=d[l];if(e.props.hasOwnProperty(u)){if("charSet"===u)i.has(u)?t=!1:i.add(u);else{var p=e.props[u],_=o[u]||new Set;("name"!==u||!r)&&_.has(p)?t=!1:(_.add(p),o[u]=_)}}}}return t})).reverse().map(function(e,t){var n=e.key||t;if(!l&&"link"===e.type&&e.props.href&&["https://fonts.googleapis.com/css","https://use.typekit.net/"].some(function(t){return e.props.href.startsWith(t)})){var c=r({},e.props||{});return c["data-href"]=c.href,c.href=void 0,c["data-optimized-fonts"]=!0,a.default.cloneElement(e,c)}return a.default.cloneElement(e,{key:n})})}t.default=function(e){var t=e.children,n=a.useContext(o.AmpStateContext),r=a.useContext(l.HeadManagerContext);return a.default.createElement(i.default,{reduceComponentsToState:_,headManager:r,inAmpMode:s.isInAmpMode(n)},t)},("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},1585:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,n=e.headManager,o=e.reduceComponentsToState;function l(){if(n&&n.mountedInstances){var t=r.Children.toArray(Array.from(n.mountedInstances).filter(Boolean));n.updateHead(o(t,e))}}return c&&(null==n||null==(t=n.mountedInstances)||t.add(e.children),l()),a(function(){var t;return null==n||null==(t=n.mountedInstances)||t.add(e.children),function(){var t;null==n||null==(t=n.mountedInstances)||t.delete(e.children)}}),a(function(){return n&&(n._pendingUpdate=l),function(){n&&(n._pendingUpdate=l)}}),i(function(){return n&&n._pendingUpdate&&(n._pendingUpdate(),n._pendingUpdate=null),function(){n&&n._pendingUpdate&&(n._pendingUpdate(),n._pendingUpdate=null)}}),null};var r=(0,n(1598).Z)(n(7294)),c=!1,a=r.useLayoutEffect,i=c?function(){}:r.useEffect},6065:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.warnOnce=void 0,t.warnOnce=function(e){}},5967:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return m},default:function(){return g}});var r=n(9499),c=n(7812),a=n(2999),i=n(3806),o=n(6831),l=n(9008),s=n.n(l),u=n(7294),p=n(9244),d=n.n(p),_=n(5893);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var m=!0;function g(){var e,t=(0,u.useState)(!1),n=t[0],r=t[1],l=(0,u.useState)(!1),p=l[0],f=l[1],m=(0,u.useState)(-1),g=m[0],y=m[1],v=(0,u.useState)(0),w=v[0],b=v[1],j=(0,u.useState)(!0),x=j[0],k=j[1],O=(0,u.useRef)(7),N=(0,u.useState)([{name:"t1",checked:!0,img:"https://wsrv.nl/?url=raw.githubusercontent.com/mirrows/photo/main/normal/2023_07_20/pic1689815874534864.png&w=60&q=80",target:"",percent:.1},{name:"t2",checked:!0,img:"https://wsrv.nl/?url=raw.githubusercontent.com/mirrows/photo/main/normal/2023_07_20/pic1689815877667843.png&w=60&q=80",target:"",percent:.05},{name:"t3",checked:!0,img:"https://wsrv.nl/?url=raw.githubusercontent.com/mirrows/photo/main/normal/2023_07_20/pic1689815880200733.png&w=60&q=80",target:"",percent:.4},{name:"t4",checked:!0,img:"https://wsrv.nl/?url=raw.githubusercontent.com/mirrows/photo/main/normal/2023_07_20/pic1689815882497991.png&w=60&q=80",target:"",percent:.1},{name:"t5",checked:!0,img:"https://wsrv.nl/?url=raw.githubusercontent.com/mirrows/photo/main/normal/2023_07_20/pic1689815884157426.png&w=60&q=80",target:"",percent:.2},{name:"t6",checked:!0,img:"https://wsrv.nl/?url=raw.githubusercontent.com/mirrows/photo/main/normal/2023_07_19/pic1689773986803838.png&w=60&q=80",target:"",percent:.15}]),S=N[0],C=N[1],P=(0,u.useState)("empty"),Z=P[0],E=P[1],M=(0,u.useMemo)(function(){var e=S.filter(function(e){return e.checked&&e.percent>0}).map(function(e){return e.percent}).reduce(function(e,t){return+(e-t).toFixed(4)},1);return e>0?[{name:Z,img:"https://empty.t-n.top/pub_lic/2023_06_21/pic1687315603128458.png",target:"",percent:e}]:[]},[S,Z]),F=(0,u.useMemo)(function(){return x?[].concat((0,c.Z)(S.filter(function(e){return e.checked&&e.percent>0})),(0,c.Z)(M)):S.filter(function(e){return e.checked})},[M,S,x]),I=function(e,t,n){var r=JSON.parse(JSON.stringify(S));if(e===r.length)E(n);else{r[e][t]=n;var c=r.filter(function(e){return e.checked}).reduce(function(e,t){return e+ +t.percent},0);if(r[e].checked&&c>1&&"percent"!==t){var a=r[e].percent-(c-1);r[e].percent=+(a>0?a:0).toFixed(4)}C(r)}},L=function(e,t,n){I(e,t,n)},R=(0,u.useCallback)(function(){var e=Math.random(),t=[].concat((0,c.Z)(S.filter(function(e){return e.checked&&(!x||e.percent>0)})),(0,c.Z)(x?M:[])),n=+(1/S.filter(function(e){return e.checked}).length).toFixed(4);return t.findIndex(function(t){return(e-=x?t.percent:n)<=0})},[S,M,x]),A=function(){C(function(e){var t,n=JSON.parse(JSON.stringify(e));return n.push({name:"empty"!==Z?Z:"t".concat(O.current),checked:!0,img:"https://empty.t-n.top/pub_lic/2023_06_19/pic1687162882486612.png",target:"",percent:(null===(t=M[0])||void 0===t?void 0:t.percent)||0}),n}),E("empty"),O.current++},D=function(e){C(function(t){var n=JSON.parse(JSON.stringify(t));return n.splice(e,1),n})},q=function(e,t){var n=S.filter(function(e){return e.checked&&e.percent>0}).map(function(e){return e.percent}).reduce(function(n,r,c){return+(n+(c===t?+e.target.value:r)).toFixed(4)},0);I(t,"percent",n>1&&S[t].checked?+(+e.target.value-n+1).toFixed(4):+(+e.target.value).toFixed(4))},B=function(e){k(e)};return(0,u.useEffect)(function(){if(n){var e=x?[].concat((0,c.Z)(S.filter(function(e){return e.checked&&e.percent>0})),(0,c.Z)(M)):S.filter(function(e){return e.checked}),t=R(),r=360/e.length,a=.8*Math.random()+.1;y(t),b(function(e){return 1440+t*r+Math.floor((a-.5)*r)})}},[n,R,S,M,x]),(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(s(),{children:(0,_.jsx)("title",{children:"抽奖"})}),(0,_.jsxs)("div",{className:d().lottery_wrap,children:[(0,_.jsx)(a.Z,{className:d().lottery_bg,width:"460",height:"460",src:"https://empty.t-n.top/pub_lic/2023_06_19/pic1687141057059729.png"}),(0,_.jsx)("div",{className:"".concat(d().line_wrap," ").concat(d().lottery_bg," ").concat(d().sector_wrap),children:F.map(function(e,t,n){return n.length>1&&(0,_.jsx)("div",{className:d().sector_item,style:{transform:"scale(1.5) rotate(".concat(n.length>2?360/n.length*(t-.5)+90:180*t,"deg)").concat(n.length>2?" skew(".concat(90-360/n.length,"deg)"):"translateX(50%)")}},t)})}),(0,_.jsx)("div",{className:"".concat(d().line_wrap," ").concat(d().lottery_bg," ").concat(d()["no-pointer"]),children:F.map(function(e,t,n){return(0,_.jsx)(a.Z,{className:d().area_item,width:"100",height:"100",src:e.img,style:{width:"".concat(18-n.length,"vw"),transform:"rotate(".concat(360/n.length*t,"deg)")}},t)})}),(0,_.jsx)("div",{className:"".concat(d().line_wrap," ").concat(d().lottery_bg," ").concat(d()["no-pointer"]),children:F.map(function(e,t,n){return n.length>1&&(0,_.jsx)("div",{className:d().line,style:{transform:"translateY(-50%) rotate(".concat(360/n.length*(t+.5),"deg)")}},t)})}),(0,_.jsx)("div",{className:d().pointer_wrap,style:{transform:"rotate(".concat(w,"deg)"),transitionDuration:n?"3s":"0s"},onTransitionEnd:function(){r(!1),b(function(e){return e%360}),f(!0)},children:(0,_.jsx)(a.Z,{className:d().pointer,width:"96",height:"144",src:"https://empty.t-n.top/pub_lic/2023_06_21/pic1687328567823851.png"})}),(0,_.jsx)(a.Z,{className:"".concat(d().lottery_bg," ").concat(d().start_btn),width:"80",height:"80",src:"https://empty.t-n.top/pub_lic/2023_06_21/pic1687328322726591.webp",onClick:function(){n||(b(function(e){return e%360}),setTimeout(function(){r(!0)}))}}),(0,_.jsx)("div",{className:d().rate_table,children:(0,_.jsxs)(o.Z,{children:[(0,_.jsx)(i.Z,{className:d().table_switch,type:"list",width:"32"}),(0,_.jsxs)("div",{className:d().table_wrap,children:[(0,_.jsx)("ul",{className:"".concat(d().scroll_wrap," no_scroll_bar"),children:[].concat((0,c.Z)(S),(0,c.Z)(x?M:[])).map(function(e,t,n){return(0,_.jsxs)("li",{className:d().item_wrap,children:[(0,_.jsxs)("div",{className:d().input_wrap,children:[(0,_.jsx)("div",{className:d().item_checked,children:"checked"in e&&"boolean"==typeof e.checked?(0,_.jsx)("input",{className:d().checked_btn,"aria-label":"if it can be used in the following lottery",type:"checkbox",name:"",checked:e.checked,id:"",onChange:function(e){return L(t,"checked",e.target.checked)}}):n.length<10?(0,_.jsx)(i.Z,{type:"plus",style:{fill:"#fff"},onClick:A}):""}),(0,_.jsx)("div",{className:d().item_del,children:"checked"in e&&n.length>2?(0,_.jsx)(i.Z,{type:"trash",style:{fill:"#fff"},width:"16",onClick:function(){return D(t)}}):""})]}),(0,_.jsxs)("div",{className:d().input_wrap,children:[(0,_.jsx)("input",{className:d().n_input,type:"text","aria-label":"lottery item name",placeholder:"名称",value:e.name,onChange:function(e){return I(t,"name",e.target.value)}}),(0,_.jsx)("input",h(h({className:d().n_input,type:"number","aria-label":"the posibility it win",placeholder:"权重"},"checked"in e?{disabled:!x}:{readOnly:!0,disabled:!0}),{},{value:String(x?e.percent:+(1/S.filter(function(e){return e.checked}).length).toFixed(4)),onChange:function(e){return I(t,"percent",e.target.value)},onBlur:function(e){return q(e,t)}}))]}),(0,_.jsx)("div",{className:d().item_opera,children:(0,_.jsx)("img",{src:e.img,width:"50",height:"50",alt:""})})]},t)})}),(0,_.jsxs)("div",{className:d().power_wrap,children:[(0,_.jsxs)("label",{children:[(0,_.jsx)("input",{className:d().checked_btn,type:"checkbox","aria-label":"if show each item the same Weights",checked:x,onChange:function(e){return B(e.target.checked)}}),"权重"]}),!x&&[].concat((0,c.Z)(S),(0,c.Z)(M)).length<10?(0,_.jsx)(i.Z,{type:"plus",width:"20",style:{fill:"#fff",marginLeft:"5px"},onClick:A}):""]})]})]})}),(0,_.jsx)("div",{className:"modal_mask",style:{zIndex:-1!==g&&p?"99":"-1",opacity:-1!==g&&p?"1":"0"},onClick:function(){f(!1)},children:(0,_.jsxs)("div",{className:d().modal_wrap,children:[(0,_.jsx)("img",{className:d().con_img,width:"342",height:"286",alt:"hahaha",src:"https://empty.t-n.top/pub_lic/2023_07_17/pic1689565249790850.gif"}),(0,_.jsx)("div",{className:d().modal_content,children:null===(e=F[g])||void 0===e?void 0:e.name})]})}),(0,_.jsx)("img",{className:"hide",width:"342",height:"286",alt:"hahaha",src:"https://empty.t-n.top/pub_lic/2023_06_26/pic1687747158480258.gif"})]})]})}},2634:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/demos/lottery",function(){return n(5967)}])},9244:function(e){e.exports={lottery_wrap:"lottery_lottery_wrap__VK3Ht",lottery_bg:"lottery_lottery_bg__y_xGI",pointer_wrap:"lottery_pointer_wrap__4iMmK",pointer:"lottery_pointer__PtADg",start_btn:"lottery_start_btn__WQCR1",line_wrap:"lottery_line_wrap__KGL2B",line:"lottery_line__lX8mA",area_item:"lottery_area_item__HZITf",rate_table:"lottery_rate_table__tcs3W",table_wrap:"lottery_table_wrap__uNFYe",n_input:"lottery_n_input__Tygj0",table_switch:"lottery_table_switch__jF8GM","modal-active":"lottery_modal-active__aa0qD",modal_wrap:"lottery_modal_wrap__2Shtf",con_img:"lottery_con_img__8AHLx",modal_content:"lottery_modal_content__1X2RH",sector_wrap:"lottery_sector_wrap__Me8gC",sector_item:"lottery_sector_item__WK9xL",item_wrap:"lottery_item_wrap__KP3cN",input_wrap:"lottery_input_wrap__2dQlt",item_checked:"lottery_item_checked__SIQpl",item_opera:"lottery_item_opera___CG5F",checked_btn:"lottery_checked_btn__unnwc",scroll_wrap:"lottery_scroll_wrap__ib_kq",power_wrap:"lottery_power_wrap__7WKrP"}},9008:function(e,t,n){e.exports=n(2717)}},function(e){e.O(0,[774,888,179],function(){return e(e.s=2634)}),_N_E=e.O()}]);