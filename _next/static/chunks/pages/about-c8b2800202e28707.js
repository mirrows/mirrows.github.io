(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[521],{9026:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return w},default:function(){return k}});var r=n(7812),o=n(3806),a=n(7294),i=function(e){var t=e.value,n=e.render,r=(0,a.useState)(t),o=r[0],i=r[1];return(0,a.useEffect)(function(){i((t?new Date(t):new Date).toLocaleString())},[t]),n(o||"")},l=n(6294),c=n(8984),d=n(277),s=n(9008),u=n.n(s),p=n(9521),m=n(2990),x=n(8924),b=n.n(x),f=n(9980),h=n.n(f),g=n(5893),v=p.ZP.div.withConfig({displayName:"about__DIV",componentId:"sc-1rlodvf-0"})(["position:fixed;top:0;bottom:0;left:0;right:0;z-index:-1;"]),_=p.ZP.div.withConfig({displayName:"about__BlogContent",componentId:"sc-1rlodvf-1"})(['position:absolute;left:0;right:0;display:flex;justify-content:center;align-items:flex-start;margin:60px auto;color:#fff;line-height:1.2;pointer-events:none;vertical-align:bottom;.blog_wrap{padding:10px;margin:5px;background-color:rgba(200,200,200,.5);box-sizing:border-box;border-radius:8px;}.blog_left{display:flex;flex-direction:column;flex:1 1 680px;max-width:680px;overflow:hidden;}.add_comment{pointer-events:all;}.text_area{width:100%;padding:10px;background-color:rgba(255,255,255,.8);border:none;box-sizing:border-box;border-radius:6px;vertical-align:bottom;resize:none;outline:none;font-size:16px;}.operate_wrap{display:flex;justify-content:space-between;.preview{width:24px;height:24px;padding:0 2px;margin:0 4px;vertical-align:middle;cursor:pointer;&:hover{background-color:rgba(200,200,200,.5);border-radius:4px;}}.submit{padding:4px 16px;font-weight:bold;margin-bottom:10px;background-color:#fff;border:none;border-radius:4px;font-size:14px;color:#000;cursor:pointer;}}.blog_content{padding:10px;box-sizing:border-box;border-radius:8px;pointer-events:all;}.blog_content,.comment_detail{blockquote{padding:4px 0 4px 1em;margin:0;margin-bottom:8px;border-left:4px solid gray;white-space:normal;background-color:#5c5c5c;border-radius:0 6px 6px 0;opacity:0.8;font-size:14px;p{margin:0;line-height:1.2;}}p{margin:0 0 10px;;white-space:pre-wrap;line-height:1.5;word-break:break-all;}a{pointer-events:all;}img{max-width:100%;}table{border-collapse:collapse;}table th,table td{min-width:80px;padding:4px;border:1px solid #000;}ul{margin:10px 0;}ul li:before{content:"⚪";float:left;margin-right:10px;font-weight:900;}code{background-color:#f5f5f5;overflow:auto;color:#000;}pre{padding:10px;background-color:#f5f5f5;overflow:auto;border-radius:8px;color:#000;}pre{&::-webkit-scrollbar{width:8px;height:8px;}&::-webkit-scrollbar-thumb{border-radius:10px;background:#a5a5a5;}}}.preview_detail_wrap{max-height:160px;overflow:auto;}.preview_detail{pointer-events:none;}.preview_detail_wrap,.text_area,.comment_detail{pointer-events:all;&::-webkit-scrollbar{width:8px;height:8px;}&::-webkit-scrollbar-thumb{border-radius:10px;background:#a5a5a5;}}.comments_wrap{display:flex;flex-direction:column;min-width:240px;margin:5px;position:sticky;top:40px;max-height:calc(100vh - 80px);overflow:auto;&::-webkit-scrollbar{display:none;}}.avator{width:36px;height:36px;margin-right:10px;border-radius:4px;}.author_msg{display:flex;padding:5px;box-shadow:0px 5px 10px -5px #999;}.comment_content_wrap{background-color:rgba(200,200,200,.5);border-radius:5px;margin-bottom:10px;pointer-events:all;.comment_detail_wrap{padding:10px;}.comment_detail{max-height:400px;overflow:auto;}}@media (min-width:680px){.comment_detail{max-width:400px;}}.text_small{font-size:12px;color:#c1c1c1;}@media (max-width:680px){display:block;.comments_wrap{max-height:unset;}}']),w=!0;function k(e){var t=e.artical,n=e.comments,s=new(h()),p=(0,a.useRef)(),x=(0,a.useRef)(),f=(0,a.useState)(t),w=f[0],k=f[1],j=(0,a.useRef)(null),y=(0,a.useRef)(null),N=(0,a.useState)(!1),S=N[0],I=N[1],z=(0,a.useRef)(1),C=(0,a.useRef)(0),E=(0,a.useState)((0,r.Z)(n||[])),T=E[0],L=E[1],M=function(){if(null!==(e=y.current)&&void 0!==e&&e.value){var e,t=b()(s.render(y.current.value));(null==j?void 0:j.current)&&(j.current.innerHTML=t)}},P=function(e){(0,l.Jl)(e).then(function(e){C.current=e.total,L(e.data)})},R=function(){(0,l.jZ)().then(function(e){k(e.data)})};return(0,a.useEffect)(function(){c.S.data.emit(),x.current||(p.current=document.getElementById("test"),x.current=(0,m.pT)({el:p.current,gpgpuSize:512,colors:[65280,255],color:16711680,coordScale:.5,noiseIntensity:.001,noiseTimeCoef:1e-4,pointSize:5,pointDecay:.0025,sleepRadiusX:250,sleepRadiusY:250,sleepTimeCoefX:.001,sleepTimeCoefY:.002}),document.body.addEventListener("click",function(){x.current&&(x.current.uniforms.uColor.value.set(16777215*Math.random()),x.current.uniforms.uCoordScale.value=.001+2*Math.random(),x.current.uniforms.uNoiseIntensity.value=1e-4+.001*Math.random(),x.current.uniforms.uPointSize.value=1+10*Math.random())}),R(),P(z.current))},[]),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(u(),{children:[(0,g.jsx)("title",{children:"about"}),(0,g.jsx)("meta",{name:"description",content:"Generated by create next app"}),(0,g.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,g.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,g.jsxs)("main",{children:[(0,g.jsx)(v,{id:"test"}),(0,g.jsxs)(_,{children:[(0,g.jsxs)("div",{className:"blog_left",children:[(0,g.jsx)("div",{className:"blog_content blog_wrap",dangerouslySetInnerHTML:{__html:(0,d.K)(b()(s.render((null==w?void 0:w.body)||"")))}}),(0,g.jsxs)("div",{className:"blog_wrap add_comment",children:[(0,g.jsx)("label",{htmlFor:"comments_input",children:"添加评论"}),(0,g.jsxs)("div",{className:"operate_wrap",children:[(0,g.jsx)(o.Z,{type:"code",className:"preview",alt:"preview",onClick:function(e){e.stopPropagation(),I(function(e){return e||M(),!e})}}),(0,g.jsx)("button",{className:"submit","aria-label":"submit comment",onClick:function(e){var t;e.stopPropagation(),null!==(t=y.current)&&void 0!==t&&t.value&&(0,l.Ir)(y.current.value).then(function(e){e.code||(P(1),y.current&&(y.current.value=""),j.current&&(j.current.innerHTML=""),I(!1))})},children:"add comment"})]}),(0,g.jsx)("div",{className:"preview_detail_wrap",style:{display:S?"block":"none"},children:(0,g.jsx)("div",{ref:j,className:"blog_content preview_detail"})}),(0,g.jsx)("textarea",{id:"comments_input",ref:y,className:"text_area",rows:8,style:{display:S?"none":"block"},placeholder:"此处添加评论","aria-label":"edit some comments"})]})]}),(0,g.jsx)("div",{className:"comments_wrap",children:T.length?T.map(function(e){return(0,g.jsxs)("div",{className:"comment_content_wrap",children:[(0,g.jsxs)("div",{className:"author_msg",children:[(0,g.jsx)("img",{className:"avator",src:e.author.avatarUrl,alt:""}),(0,g.jsxs)("div",{children:[(0,g.jsx)("div",{children:e.author.login}),(0,g.jsx)(i,{render:function(e){return(0,g.jsx)("div",{className:"text_small",children:e})},value:e.updatedAt})]})]}),(0,g.jsx)("div",{className:"comment_detail_wrap",children:(0,g.jsx)("div",{className:"blog_content comment_detail",dangerouslySetInnerHTML:{__html:(0,d.K)(b()(s.render(e.body)))}})})]},e.id)}):(0,g.jsx)("div",{className:"comment_content_wrap",children:(0,g.jsx)("div",{className:"blog_content comment_detail text_center",children:"一个评论都没有呢。。。。。。"})})})]})]})]})}},6294:function(e,t,n){"use strict";n.d(t,{Ir:function(){return i},Jl:function(){return l},jZ:function(){return a}});var r=n(842),o=n(8984),a=function(){return(0,r.IO)({path:"/about"})},i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return(0,r.IO)({path:"/github/addComment",method:"post",params:{number:t,body:e},headers:o.S.data.token?{Authorization:"token ".concat(o.S.data.token)}:{}})},l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return(0,r.IO)({path:"/github/queryComments",method:"get",query:{number:t,page:e},headers:o.S.data.token?{Authorization:"token ".concat(o.S.data.token)}:{}})}},277:function(e,t,n){"use strict";n.d(t,{K:function(){return a}});var r=n(3454),o={lazyImg:function(e){return e.replace(/\<img src/g,'<img class="lazy" src="'.concat(r.env.NEXT_PUBLIC_LOADING_GIF,'" data-src'))},tableScroll:function(e){return e.replace(/\<table\>/g,'<div class="scroll_table"><table>').replace(/\<\/table\>/g,"</table></div>")}},a=function(e,t){var n={};null==t||t.forEach(function(e){n[e]=!0});var r=e;return Object.keys(o).forEach(function(e){n[e]||(r=o[e](r))}),r}},8318:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/about",function(){return n(9026)}])}},function(e){e.O(0,[737,924,720,774,888,179],function(){return e(e.s=8318)}),_N_E=e.O()}]);