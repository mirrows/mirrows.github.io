(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[521],{9550:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var n=r(9521),a=r(3806),o=r(7294),i=r(5893),l=n.ZP.div.withConfig({displayName:"Pagination__DIV",componentId:"sc-5hgtay-0"})(["&.pagination_wrap{margin-bottom:10px;text-align:right;}.arrow{padding:4px 16px;border:none;background-color:#fff;border-radius:6px;pointer-events:all;}.arrow[disabled]{opacity:0.4;cursor:default;}.arrow[disabled] *{cursor:default;}.arrow_left{border-radius:6px 0 0 6px;}.arrow_right{border-radius:0 6px 6px 0;}.vals{display:inline-block;background-color:#c3c3c3;line-height:28px;vertical-align:bottom;color:#fff;opacity:0.8;}.page_val,.total_val{display:inline-block;padding:0 8px;}.total_val{background-color:#000;}"]);function c(e){var t=e.page,r=e.size,n=void 0===r?30:r,c=e.total,s=e.onChange,u=(0,o.useState)(1),d=u[0],p=u[1],m=(0,o.useState)(n)[0];return(0,o.useEffect)(function(){p(t||1)},[t]),c<n?(0,i.jsx)(i.Fragment,{}):(0,i.jsxs)(l,{className:"pagination_wrap",children:[(0,i.jsx)("button",{className:"arrow arrow_left",disabled:1===d,onClick:function(){p(function(e){var t=e-1;return s({page:t,size:m,total:c,type:"before"}),t})},children:(0,i.jsx)(a.Z,{type:"arrow_left",fill:"gray",width:"20"})}),(0,i.jsxs)("span",{className:"vals",children:[(0,i.jsxs)("span",{className:"page_val",children:[d,"/",Math.ceil(c/m)]}),(0,i.jsx)("span",{className:"total_val",children:c})]}),(0,i.jsx)("button",{className:"arrow arrow_right",disabled:d===Math.ceil(c/m),onClick:function(){p(function(e){var t=e+1;return s({page:t,size:m,total:c,type:"after"}),t})},children:(0,i.jsx)(a.Z,{type:"arrow_right",fill:"gray",width:"20"})})]})}},7153:function(e,t,r){"use strict";var n=r(7294);t.Z=function(e){var t=e.value,r=e.render,a=(0,n.useState)(t),o=a[0],i=a[1];return(0,n.useEffect)(function(){i((t?new Date(t):new Date).toLocaleString())},[t]),r(o||"")}},1369:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSG:function(){return O},default:function(){return I}});var n=r(9499),a=r(7812),o=r(3806),i=r(7153),l=r(6294),c=r(8984),s=r(277),u=r(9008),d=r.n(u),p=r(7294),m=r(9521),f=r(2990),g=r(8924),x=r.n(g),b=r(9980),h=r.n(b),v=r(9550),_=r(9922),w=r(7989),y=r(5893);function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var N=m.ZP.div.withConfig({displayName:"about__DIV",componentId:"sc-1rlodvf-0"})(["position:fixed;top:0;bottom:0;left:0;right:0;z-index:-1;"]),S=m.ZP.div.withConfig({displayName:"about__BlogContent",componentId:"sc-1rlodvf-1"})(['position:absolute;left:0;right:0;display:flex;justify-content:center;align-items:flex-start;margin:60px auto;color:#fff;line-height:1.2;pointer-events:none;vertical-align:bottom;.blog_wrap{padding:10px;margin:5px;background-color:rgba(200,200,200,.5);box-sizing:border-box;border-radius:8px;}.blog_left{display:flex;flex-direction:column;flex:1 1 680px;max-width:680px;overflow:hidden;}.add_comment{pointer-events:all;}.text_area{width:100%;padding:10px;background-color:rgba(255,255,255,.8);border:none;box-sizing:border-box;border-radius:6px;vertical-align:bottom;resize:none;outline:none;font-size:16px;}.operate_wrap{display:flex;justify-content:space-between;flex:1;.preview{width:24px;height:24px;padding:0 2px;margin:0 4px;vertical-align:middle;cursor:pointer;&:hover{background-color:rgba(200,200,200,.5);border-radius:4px;}}.submit{padding:5px 16px;font-weight:bold;background-color:#fff;border:none;border-radius:4px;font-size:14px;color:#000;cursor:pointer;white-space:nowrap;}}.blog_content{padding:10px;box-sizing:border-box;border-radius:8px;pointer-events:all;}.blog_content,.comment_detail{blockquote{padding:4px 0 4px 1em;margin:0;margin-bottom:8px;border-left:4px solid gray;white-space:normal;background-color:#5c5c5c;border-radius:0 6px 6px 0;opacity:0.8;font-size:14px;p{margin:0;line-height:1.2;}}p{margin:0 0 10px;;white-space:pre-wrap;line-height:1.5;word-break:break-all;}a{pointer-events:all;}img{max-width:100%;}table{border-collapse:collapse;}table th,table td{min-width:80px;padding:4px;border:1px solid #000;}ul{margin:10px 0;}ul li:before{content:"⚪";float:left;margin-right:10px;font-weight:900;}code{background-color:#f5f5f5;overflow:auto;color:#000;}pre{padding:10px;background-color:#f5f5f5;overflow:auto;border-radius:8px;color:#000;}pre{&::-webkit-scrollbar{width:8px;height:8px;}&::-webkit-scrollbar-thumb{border-radius:10px;background:#a5a5a5;}}}.preview_detail_wrap{max-height:240px;overflow:auto;}.preview_detail{pointer-events:none;}.preview_detail_wrap,.text_area,.comment_detail{pointer-events:all;&::-webkit-scrollbar{width:8px;height:8px;}&::-webkit-scrollbar-thumb{border-radius:10px;background:#a5a5a5;}}.comments_wrap{display:flex;flex-direction:column;min-width:240px;margin:5px;position:sticky;top:40px;max-height:calc(100vh - 80px);overflow:auto;&::-webkit-scrollbar{display:none;}}.avator{width:36px;height:36px;margin-right:10px;border-radius:4px;}.author_msg{display:flex;padding:5px;box-shadow:0px 5px 10px -5px #999;}.comment_content_wrap{background-color:rgba(200,200,200,.5);border-radius:5px;margin-bottom:10px;pointer-events:all;.comment_detail_wrap{padding:10px;}.comment_detail{max-height:400px;overflow:auto;}}@media (min-width:680px){.comment_detail{max-width:400px;}}.text_small{font-size:12px;color:#c1c1c1;}@media (max-width:680px){display:block;.comments_wrap{max-height:unset;}}.other_words{display:flex;align-items:center;margin-bottom:10px;}.input_item{flex:1;width:0;padding:10px;margin:0 5px;border:none;box-sizing:border-box;border-radius:6px;vertical-align:bottom;background-color:rgba(255,255,255,.8);}.input_item:first-child{margin-left:0;}.input_item:last-child{margin-right:0;}']),O=!0;function I(e){var t=e.artical,r=e.comments,n=e.pageInfo,u=new(h()),m=(0,p.useRef)(),g=(0,p.useRef)(),b=(0,p.useState)(t),j=b[0],O=b[1],I=(0,p.useRef)(null),z=(0,p.useRef)(null),C=(0,p.useRef)(null),R=(0,p.useRef)(null),P=(0,p.useState)(!1),Z=P[0],E=P[1],q=(0,p.useState)((0,a.Z)(r||[])),M=q[0],T=q[1],D=(0,p.useState)(1),A=D[0],F=D[1],L=(0,p.useState)(n||{}),J=L[0],H=L[1],X=(0,p.useRef)(null),G=(0,p.useState)(!1),K=G[0],U=G[1],B=function(){if(null!==(e=z.current)&&void 0!==e&&e.value){var e,t=x()(u.render(z.current.value));(null==I?void 0:I.current)&&(I.current.innerHTML=t)}},V=function(e){(0,l.Jl)(e||{number:2}).then(function(t){var r=t.data,n=t.total,a=t.pageInfo;T(r),O(function(e){return k(k({},e),{},{comments:n})}),H(a),e||F(1)})},Y=function(){(0,l.jZ)().then(function(e){O(e.data)})};return(0,p.useEffect)(function(){c.SR.data.emit(),g.current||(m.current=document.getElementById("test"),g.current=(0,f.pT)({el:m.current,gpgpuSize:512,colors:[65280,255],color:16711680,coordScale:.5,noiseIntensity:.001,noiseTimeCoef:1e-4,pointSize:5,pointDecay:.0025,sleepRadiusX:250,sleepRadiusY:250,sleepTimeCoefX:.001,sleepTimeCoefY:.002}),document.body.addEventListener("click",function(){g.current&&(g.current.uniforms.uColor.value.set(16777215*Math.random()),g.current.uniforms.uCoordScale.value=.001+2*Math.random(),g.current.uniforms.uNoiseIntensity.value=1e-4+.001*Math.random(),g.current.uniforms.uPointSize.value=1+10*Math.random())}),Y(),V(),c.SR.isGithubOwner(function(e){try{var t,r,n=JSON.parse(localStorage.userMsg);C.current&&(C.current.value=n.username),R.current&&(R.current.value=n.email)}catch(n){null!==(t=c.SR.data.userInfo)&&void 0!==t&&t.login&&!e&&(C.current&&(C.current.value=c.SR.data.userInfo.login),R.current&&(null===(r=c.SR.data.userInfo)||void 0===r?void 0:r.email)&&(R.current.value=c.SR.data.userInfo.email))}U(e)}))},[]),(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(d(),{children:[(0,y.jsx)("title",{children:"about"}),(0,y.jsx)("meta",{name:"description",content:"Generated by create next app"}),(0,y.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,y.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,y.jsxs)("main",{children:[(0,y.jsx)(N,{id:"test"}),(0,y.jsxs)(S,{children:[(0,y.jsxs)("div",{className:"blog_left",children:[(0,y.jsx)("div",{className:"blog_content blog_wrap",dangerouslySetInnerHTML:{__html:(0,s.K)(x()(u.render((null==j?void 0:j.body)||"")))}}),(0,y.jsxs)("div",{className:"blog_wrap add_comment",children:[(0,y.jsxs)("div",{className:"other_words",children:[(0,y.jsx)("input",{ref:C,type:"text",className:"input_item",placeholder:"用户名(必填)",name:"",id:""}),(0,y.jsx)("input",{ref:R,type:"text",className:"input_item",placeholder:"邮箱(必填)",name:"",id:""})]}),(0,y.jsx)("label",{htmlFor:"comments_input"}),(0,y.jsxs)(_.Z,{ref:X,clickable:!1,autoUpload:!0,onFinish:function(e){setTimeout(function(){z.current&&(z.current.value=z.current.value+e.map(function(e){var t=e.mini,r=e.normal;return"![".concat(t.name,"](").concat(t.cdn_url,")\n![").concat(r.name,"](").concat(r.cdn_url,")")}).join("\n"),z.current.focus())})},children:[(0,y.jsx)("div",{children:(0,y.jsx)("textarea",{id:"comments_input",ref:z,className:"text_area",rows:8,style:{display:Z?"none":"block"},placeholder:"此处添加评论","aria-label":"edit some comments",suppressContentEditableWarning:!0,contentEditable:!0,onPaste:function(e){var t,r=[],n=e.clipboardData.items;if(n&&n.length){for(var a=0;a<n.length;a++)if(-1!==n[a].type.indexOf("image")){var o=n[a].getAsFile();o&&r.push(o)}}r&&(null===(t=X.current)||void 0===t||t.addFile(r))}})}),(0,y.jsxs)("div",{className:"operate_wrap",children:[(0,y.jsx)(o.Z,{type:"code",className:"preview",alt:"preview",onClick:function(e){e.stopPropagation(),E(function(e){return e||B(),!e})}}),(0,y.jsx)("button",{className:"submit","aria-label":"submit comment",onClick:function(e){if(e.stopPropagation(),null!==(t=C.current)&&void 0!==t&&t.value&&null!==(r=R.current)&&void 0!==r&&r.value&&null!==(n=z.current)&&void 0!==n&&n.value){var t,r,n,a,o={body:z.current.value,login:C.current.value,email:R.current.value,avatarUrl:R.current.value.match("@qq.com")?"https://q.qlogo.cn/g?b=qq&nk=".concat(R.current.value.trim().replace("@qq.com",""),"&s=100"):null!==(a=c.SR.data.userInfo)&&void 0!==a&&a.login&&!K?c.SR.data.userInfo.avatar_url:"https://ui-avatars.com/api/?name=".concat((0,w.O1)())};if(!R.current.value.match(/^[A-Za-z0-9-_\u4e00-\u9fa5]+@[a-zA-Z0-9_-]+(\.[a-zA-Z]+)+$/)){alert("邮箱格式错误");return}(0,l.Ir)(JSON.stringify(o)).then(function(e){var t,r;e.code||(V(),localStorage.setItem("userMsg",JSON.stringify({username:null===(t=C.current)||void 0===t?void 0:t.value,email:null===(r=R.current)||void 0===r?void 0:r.value})),z.current&&(z.current.value=""),I.current&&(I.current.innerHTML=""),E(!1))})}},children:"add comment"})]})]}),(0,y.jsx)("div",{className:"preview_detail_wrap",style:{display:Z?"block":"none"},children:(0,y.jsx)("div",{ref:I,className:"blog_content preview_detail"})})]})]}),(0,y.jsxs)("div",{className:"comments_wrap",children:[(0,y.jsx)(v.Z,{page:A,total:(null==j?void 0:j.comments)||0,onChange:function(e){var t=e.type;F(e.page||1),V({number:33,type:t,cursor:{before:J.startCursor,after:J.endCursor}[t]})}}),M.length?M.map(function(e){return(0,y.jsxs)("div",{className:"comment_content_wrap",children:[(0,y.jsxs)("div",{className:"author_msg",children:[(0,y.jsx)("img",{className:"avator",src:e.author.avatarUrl,alt:""}),(0,y.jsxs)("div",{children:[(0,y.jsx)("div",{children:e.author.login}),(0,y.jsx)(i.Z,{render:function(e){return(0,y.jsx)("div",{className:"text_small",children:e})},value:e.updatedAt})]})]}),(0,y.jsx)("div",{className:"comment_detail_wrap",children:(0,y.jsx)("div",{className:"blog_content comment_detail",dangerouslySetInnerHTML:{__html:(0,s.K)(x()(u.render(e.body)))}})})]},e.id)}):(0,y.jsx)("div",{className:"comment_content_wrap",children:(0,y.jsx)("div",{className:"blog_content comment_detail text_center",children:"一个评论都没有呢。。。。。。"})})]})]})]})]})}},6294:function(e,t,r){"use strict";r.d(t,{Ir:function(){return i},Jl:function(){return l},jZ:function(){return o}});var n=r(842),a=r(8984),o=function(){return(0,n.IO)({path:"/about"})},i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return(0,n.IO)({path:"/github/addComment",method:"post",params:{number:t,body:e},headers:a.SR.data.token?{Authorization:"token ".concat(a.SR.data.token)}:{}})},l=function(e){return(0,n.IO)({path:"/github/queryComments",method:"get",query:e,headers:a.SR.data.token?{Authorization:"token ".concat(a.SR.data.token)}:{}})}},277:function(e,t,r){"use strict";r.d(t,{K:function(){return a}});var n={lazyImg:function(e){return e.replace(/\<img src/g,'<img class="lazy" src="'.concat("https://wsrv.nl/?url=raw.githubusercontent.com/mirrows/photo/main/normal/2023_09_10/pic1694333133502339.gif&w=130&fit=cover&n=-1&q=80",'" data-src'))},tableScroll:function(e){return e.replace(/\<table\>/g,'<div class="scroll_table"><table>').replace(/\<\/table\>/g,"</table></div>")}},a=function(e,t){var r={};null==t||t.forEach(function(e){r[e]=!0});var a=e;return Object.keys(n).forEach(function(e){r[e]||(a=n[e](a))}),a}},8318:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/about",function(){return r(1369)}])}},function(e){e.O(0,[737,880,811,789,922,774,888,179],function(){return e(e.s=8318)}),_N_E=e.O()}]);