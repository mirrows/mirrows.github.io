(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{2999:function(e,t,i){"use strict";var n=i(9499),a=i(4730),r=i(7294),l=i(5893),o=i(3454),c=["loadingPic","src","className","children"];function s(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}t.Z=function(e){var t=e.loadingPic,i=e.src,d=e.className,p=e.children,g=(0,a.Z)(e,c),h=(0,r.useRef)(t||o.env.NEXT_PUBLIC_LOADING_GIF||"https://empty.t-n.top/pub_lic/2023_06_09/pic1686281264582557.gif"),m=(0,r.useRef)("https://empty.t-n.top/pub_lic/2023_06_26/pic1687748007844003.png"),u=(0,r.useState)(h.current),x=u[0],f=u[1],b=(0,r.useState)(!1),_=b[0],w=b[1],v=(0,r.useRef)(null);return(0,r.useEffect)(function(){var e,t,n=document.documentElement.clientHeight,a=document.documentElement.clientWidth;null===(e=v.current)||void 0===e||e.classList.add("lazy"),w(!1),v.current&&!(v.current.getBoundingClientRect().top<-v.current.clientHeight||v.current.getBoundingClientRect().top>1.5*n)&&!(v.current.getBoundingClientRect().left<-a||v.current.getBoundingClientRect().left>1.5*a)&&v.current.getBoundingClientRect().width&&v.current.getBoundingClientRect().height&&(f(i),null===(t=v.current)||void 0===t||t.classList.remove("lazy"))},[i]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("img",function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?s(Object(i),!0).forEach(function(t){(0,n.Z)(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}({className:"".concat(d?"lazy ".concat(d):"lazy"),ref:v,src:x,"data-src":i,alt:"",onLoad:function(){return w(!0)},onError:function(){f(m.current),w(!0)}},g)),_||p]})}},4801:function(e,t,i){"use strict";i.r(t),i.d(t,{__N_SSG:function(){return w},default:function(){return v}});var n=i(5835),a=i(9008),r=i.n(a),l=i(7294),o=i(9521),c=i(2379),s=i(1435),d=i(5893),p=o.ZP.div.withConfig({displayName:"PreviewPannel__DIV",componentId:"sc-1womqig-0"})(["position:relative;margin:10px auto;padding:10px 0;z-index:26;text-align:center;box-sizing:border-box;font-size:12px;color:#fff;.items_wrap{display:flex;flex-wrap:wrap;justify-content:center;padding:0 20px;white-space:pre-wrap;}&:before{content:'';position:absolute;left:35px;right:35px;top:25px;bottom:25px;background-color:rgba(0,0,0,.5);box-shadow:0 0 20px 30px  rgba(0,0,0,.5);z-index:-1;}.tag_item{margin-right:10px;.tag_value{font-size:14px;font-weight:bold;white-space:nowrap;}}"]);function g(){var e,t,i=(0,l.useState)(),n=i[0],a=i[1],r=(0,l.useState)(0),o=r[0],c=r[1],g=(0,l.useState)({}),h=g[0],m=g[1],u=(0,l.useState)([]),x=u[0],f=u[1],b=function(){var e=sessionStorage.detail;e?m(JSON.parse(e)):s.S.on("ip",function(e){var t=e.data,i=e.detail;t&&(a({ip:null==i?void 0:i.ip,data:t.data}),m(i))})},_=function(e,t){var i=t.year,n=t.month,a=t.date,r=t.hour,l=t.minute,o=t.secend;return new Date(i||e.getFullYear(),n||e.getMonth(),a||e.getDate(),r||e.getHours(),l||e.getMinutes(),o||e.getSeconds())},w=(0,l.useCallback)(function(){var e=new Date(2023,1,2,17,58),t=new Date,i=Math.round((new Date(e.getFullYear(),e.getMonth()+1,1).getTime()-new Date(e.getFullYear(),e.getMonth(),1).getTime())/864e5),n=_(e,{year:t.getFullYear()}),a=t.getFullYear()-e.getFullYear()+(t.getTime()>=n.getTime()?0:-1),r=_(e,{month:t.getMonth()}),l=t.getMonth()-e.getMonth()+(t.getTime()>=n.getTime()?0:12)+(t.getTime()>=r.getTime()?0:-1),o=_(e,{month:t.getMonth(),date:t.getDate()});return[a,l,t.getDate()-e.getDate()+(t.getTime()>=r.getTime()?0:i)+(t.getTime()>=o.getTime()?0:-1),Math.floor((t.getTime()-e.getTime())%864e5/36e5),Math.floor((t.getTime()-e.getTime())%864e5/1e3/60)%60,Math.floor((t.getTime()-e.getTime())/1e3)%60]},[]);return(0,l.useEffect)(function(){var e=s.S.data,t=e.preview,i=e.stayTime;t&&a(t),i&&c(i),b(),f(w());var n=setInterval(function(){c(s.S.data.stayTime),f(w())},1e3);return function(){clearInterval(n)}},[w]),(0,d.jsxs)(p,{children:[(0,d.jsxs)("div",{className:"items_wrap",children:[n&&(0,d.jsxs)("span",{className:"tag_item",children:["IP地址：",(0,d.jsx)("span",{className:"tag_value",children:null==n?void 0:n.ip})]}),!!(null!=n&&null!==(e=n.data)&&void 0!==e&&e.today)&&(0,d.jsxs)("span",{className:"tag_item",children:["今日访问数：",(0,d.jsx)("span",{className:"tag_value",children:null==n?void 0:n.data.today})]}),!!o&&(0,d.jsxs)("span",{className:"tag_item",children:["当前访问时长：",(0,d.jsxs)("span",{className:"tag_value",children:[String(Math.floor(o/3600)).padStart(2,"0"),": ",String(Math.floor(o/60)%60).padStart(2,"0"),": ",String(Math.floor(o%60)).padStart(2,"0")]})]})]}),(0,d.jsx)("div",{children:(0,d.jsxs)("span",{className:"tag_item",children:["IP来自：",(0,d.jsx)("span",{className:"tag_value"}),h.country," ",h.province," ",h.city," ",h.area]})}),(0,d.jsxs)("div",{className:"items_wrap",children:[!!(null!=n&&null!==(t=n.data)&&void 0!==t&&t.total)&&(0,d.jsxs)("span",{className:"tag_item",children:["总访问数：",(0,d.jsx)("span",{className:"tag_value",children:null==n?void 0:n.data.total})]}),(0,d.jsxs)("span",{className:"tag_item",children:["网站已运行：",(0,d.jsxs)("span",{className:"tag_value",children:[x[0]?"".concat(x[0],"年"):"",x[1]||x[0]?"".concat(x[1],"月"):"",x[2]||x[1]||x[0]?"".concat(x[2],"天"):"",x[3],"小时",x[4],"分",x[5],"秒"]})]})]})]})}i(995);var h=i(3806),m=i(2999),u=i(1664),x=i.n(u),f=i(3290),b=i(1163),_=o.ZP.div.withConfig({displayName:"pages__Div",componentId:"sc-1j514r3-0"})(["min-height:100vh;.imgs_wrap{position:fixed;top:0;left:0;width:100%;height:100%;z-index:0;}.bing_card{max-width:300px;width:100%;padding:10px 20px 20px;line-height:1.2;background-color:rgba(0,0,0,.65);box-sizing:border-box;border-radius:12px;color:#fff;}.copyright{color:#fff;text-decoration:underline;zoom:0.8;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;display:inline-block;vertical-align:bottom;width:100%;}.pic_item{width:100vw;height:100vh;object-fit:cover;vertical-align:bottom;min-width:100%;min-height:100%;}@media (max-width:769px){.bing_card{max-width:100%;padding:5px 10px;border-radius:0;text-align:center;font-size:14px;.copyright{font-size:12px;}}}.main_content{display:flex;position:relative;max-width:1080px;min-height:100vh;padding-top:60px;padding-bottom:10px;margin:0 auto;box-sizing:border-box;z-index:2;pointer-events:none;}.bing_msg_wrap{pointer-events:all;}.bing_msg_title{overflow:hidden;text-align:left;}.time{float:right;margin-top:0.3em;white-space:nowrap;font-weight:400;font-size:0.9rem;}.bing_msg_content{height:3.6rem;line-height:1.2rem;font-size:1rem;overflow :hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;}.content_left,.content_right{margin:10px;box-sizing:border-box;pointer-events:none;}.content_left{flex:1;}.content_right{display:flex;flex-direction:column;justify-content:space-between;flex:0 0 300px;min-width:200px;max-height:90vh;}@media (min-width:769px){.content_right{position:sticky;top:70px;}}@media (max-width:769px){.main_content{flex-direction:column;}.content_right{flex:1 1 calc(100vh - 80px);order:-1;}}.imgs_card_wrap{width:400px;height:200px;}.bing_handler{display:grid;gap:10px;grid-template-columns:1fr 1fr;margin:20px 0 10px;}.bing_handle_item{padding:10px 20px;background-color:rgba(0,0,0,.65);box-sizing:border-box;border-radius:6px;border:none;line-height:1.2;font-weight:bold;font-size:16px;color:#fff;cursor:pointer;}.content_left{}.artical_wrap{display:flex;justify-content:space-between;position:relative;padding:10px;margin-bottom:10px;border-radius:12px;background-color:rgba(200,200,200,.3);color:#fff;pointer-events:all;}.artical_wrap:last-child{margin-bottom:0;}.artical_img{min-width:200px;width:40%;margin-left:10px;margin-right:0;border-radius:8px;object-fit:cover;max-height:180px;}.artical_wrap:nth-child(2n) .artical_img{order:-1;margin-left:0;margin-right:10px;}.artical_content{flex:1 1 100%;display:flex;flex-direction:column;.artical_title{overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;word-break:break-all;}.artical_btn{margin-right:10px;box-shadow:unset;}}.artical_update_time{margin-top:auto;margin-bottom:0;text-align:right;zoom:0.8;}.artical_detail{overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:4;-webkit-box-orient:vertical;color:rgba(255,255,255,.5);word-break:break-all;}@media (max-width:769px){.artical_wrap .artical_img{order:-1;margin-left:0;margin-right:10px;}}@media (max-width:450px){.artical_wrap{height:160px;overflow:hidden;background-color:rgba(0,0,0,.3);min-width:240px;}.artical_wrap .artical_img{position:absolute;top:0;left:0;width:100%;height:100%;margin:0;z-index:-1;}}.fixed_operate_wrap{position:fixed;bottom:0;right:0;margin:28px 10px;z-index:6;}.artical_btn{display:inline-block;padding:0;background-color:transparent;background-image:radial-gradient(white 0%,white 10%,transparent 75%);;border:none;border-radius:6px;text-align:center;box-shadow:0px 0px 20px 2px #fff;}.atl_icon{width:25px;height:25px;fill:#fff;}"]),w=!0;function v(e){var t,i,a,o,p,u=e.artical,w=(0,l.useState)([]),v=w[0],j=w[1],y=(0,l.useState)(0),N=y[0],k=y[1],S=(0,l.useState)(0),z=(S[0],S[1]),T=(0,l.useRef)(null),O=(0,l.useState)(u||[]),P=O[0],D=O[1],C=(0,f.wo)(".imgs_wrap .lazy").emit,E=(0,l.useState)(!1),M=E[0],I=E[1],R=(0,b.useRouter)(),Z=function(){(0,n.P5)().then(function(e){j(e.data.map(function(e){var t=e.url,i=e.title,n=e.copyright,a=e.copyrightlink,r=e.enddate,l="",o="";return n.replace(/^(.+)\((.+)\)$/,function(e,t,i){return l=t.trim(),o=i.trim(),e}),{url:t,title:i,content:l,copyright:o,copyrightlink:a,date:"".concat(r.slice(0,4),"/").concat(r.slice(4,6),"/").concat(r.slice(6,8))}}))})},F=function(){(0,n.Dp)().then(function(e){var t=e.data,i=e.total;D(t),z(i)})};return(0,l.useEffect)(function(){s.S.isGithubOwner(function(e){return I(e)}),Z(),F()},[]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(r(),{children:[(0,d.jsx)("title",{children:"welcome to my world!!!"}),(0,d.jsx)("meta",{name:"description",content:"用于自我学习的博客站点,欢迎大家参观。本站基于vercel+nextjs+githubAPI搭建,比较少写blog,更多的是在自己的网上小窝开发有趣内容。"}),(0,d.jsx)("meta",{name:"keywords",content:"前端,个人博客,david,reed leaves,reedls,博客,知识展示"}),(0,d.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,d.jsx)("link",{rel:"icon",href:"/favicon.ico",type:"image/x-icon"}),(0,d.jsx)("meta",{httpEquiv:"Content-Security-Policy",content:"upgrade-insecure-requests"}),(0,d.jsx)("link",{rel:"dns-prefetch",href:"https://cn.bing.com/"}),(0,d.jsx)("link",{rel:"dns-prefetch",href:"https://empty.t-n.top/"}),(0,d.jsx)("link",{rel:"dns-prefetch",href:"https://api.t-n.top"})]}),(0,d.jsx)("main",{children:(0,d.jsxs)(_,{children:[(0,d.jsx)(c.tq,{loop:!0,className:"imgs_wrap",onSwiper:function(e){return T.current=e},onSlideChangeTransitionEnd:function(e){k(e.realIndex),C()},children:v.map(function(e,t){return(0,d.jsx)(c.o5,{className:"pic_wrap",children:(0,d.jsx)(m.Z,{src:(null==e?void 0:e.url)||s.O.loadingGif||"",className:"pic_item",width:"1920",height:"1080",alt:"bing"})},t)})}),(0,d.jsxs)("div",{className:"main_content",children:[(0,d.jsx)("div",{className:"content_left",children:P.map(function(e){return(0,d.jsxs)(x(),{"aria-label":"artical detail about ".concat(e.title),className:"artical_wrap",href:"/blogs/".concat(e.number),children:[(0,d.jsxs)("div",{className:"artical_content",children:[(0,d.jsxs)("h3",{className:"artical_title",children:[M&&(0,d.jsx)("span",{className:"artical_btn",onClick:function(t){t.preventDefault(),R.push("/blogs/edit/".concat(e.number))},children:(0,d.jsx)(h.Z,{type:"edit",className:"atl_icon"})}),(0,d.jsx)("span",{children:e.title})]}),(0,d.jsx)("div",{className:"artical_detail hide_450",children:e.body}),(0,d.jsxs)("span",{className:"artical_update_time",children:[(0,d.jsx)("span",{children:"—— updated at "}),(0,d.jsx)("span",{children:e.updated_at})]})]}),(0,d.jsx)(m.Z,{className:"artical_img",width:"400",height:"200",src:e.img,alt:e.title})]},e.id)})}),(0,d.jsxs)("div",{className:"content_right",children:[(0,d.jsx)(g,{}),(0,d.jsxs)("div",{className:"bing_msg_wrap",children:[(0,d.jsxs)("div",{className:"bing_handler",children:[(0,d.jsx)("button",{className:"bing_handle_item handle_before","aria-label":"previous backgroundImage",onClick:function(){var e;return null===(e=T.current)||void 0===e?void 0:e.slidePrev()},children:(0,d.jsx)(h.Z,{type:"arrow_left",fill:"#fff",width:"20"})}),(0,d.jsx)("button",{className:"bing_handle_item handle_after","aria-label":"next backgroundImage",onClick:function(){var e;return null===(e=T.current)||void 0===e?void 0:e.slideNext()},children:(0,d.jsx)(h.Z,{type:"arrow_right",fill:"#fff",width:"20"})})]}),(0,d.jsxs)("div",{className:"bing_card",children:[(0,d.jsxs)("h3",{className:"bing_msg_title",children:[null===(t=v[N])||void 0===t?void 0:t.title,(0,d.jsxs)("div",{className:"time",children:["——",null===(i=v[N])||void 0===i?void 0:i.date]})]}),(0,d.jsx)("div",{className:"bing_msg_content",children:null===(a=v[N])||void 0===a?void 0:a.content}),(0,d.jsx)("a",{className:"copyright",href:null===(o=v[N])||void 0===o?void 0:o.copyrightlink,"aria-label":"more message about this bing image",target:"_blank",children:null===(p=v[N])||void 0===p?void 0:p.copyright})]})]})]})]}),(0,d.jsx)("div",{className:"fixed_operate_wrap",children:M&&(0,d.jsx)(x(),{className:"artical_btn","aria-label":"create a new artical",href:"/blogs/create",children:(0,d.jsx)(h.Z,{type:"plus",className:"atl_icon"})})})]})})]})}},8312:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return i(4801)}])}},function(e){e.O(0,[534,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);