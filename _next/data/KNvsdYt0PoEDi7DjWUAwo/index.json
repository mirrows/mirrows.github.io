{"pageProps":{"artical":[{"body":"手动阀手动阀","number":33,"state":"OPEN","locked":false,"id":"I_kwDOJHUmoM5r8Xxb","createdAt":"2023-07-19T01:45:26Z","updatedAt":"2023-07-26T03:36:20Z","title":"是多少","labels":[{"name":"blog","color":"ededed","id":"LA_kwDOJHUmoM8AAAABT1jffg"}],"comments":55,"img":"https://bing.com/th?id=OHR.CrescentLake_ZH-CN8294493832_1920x1080.jpg&rf=LaDigue_1920x1080.jpg&pid=hp","created_at":"2023-07-19T01:45:26Z","updated_at":"2023-07-26T03:36:20Z"},{"body":"要在满足issue创建/修改/删除时，如果label包含某个值的情况下，创建任务，你可以使用GitHub Actions来实现。\n\n首先，你需要在存储库中创建一个.github/workflows目录，并在该目录中创建一个YML文件（例如create-task.yml）来定义你的工作流程。\n\n以下是示例工作流程的步骤：\n```\nname: 创建任务\n\non:\n  issues:\n    types: [opened, edited, deleted]\n\njobs:\n  create_task:\n    runs-on: ubuntu-latest\n    \n    steps:\n      - name: 检查标签\n        id: check_labels\n        uses: actions/github-script@v5\n        with:\n          github-token: ${{ secrets.GITHUB_TOKEN }}\n          script: |\n            const labels = context.payload.issue.labels.map(label => label.name);\n            const containsMyLabel = labels.includes('my-label');\n            console.log(`Issue中是否包含\"my-label\": ${containsMyLabel}`);\n            return containsMyLabel\n      \n      - name: 创建新的任务\n        if: steps.check_labels.outputs.result == 'true'\n        run: |\n          # 这里可以执行创建任务的命令或脚本\n          echo \"创建一个任务...\"\n```\n上述示例工作流程会在满足以下条件时触发：\n\n* 当创建一个新的issue时\n* 当编辑一个已存在的issue时\n* 当删除一个issue时\n\n然后，它会检查issue中的标签是否包含名为my-label的标签。如果包含该标签，则会执行指定的命令或脚本来创建一个新的任务。\n\n确保将上述YAML代码保存为 .github/workflows/create-task.yaml 并提交到你的存储库中。GitHub Actions会自动检测并执行该工作流程。\n\n\n## on事件中为什么是使用issue而不是issue_commit\n\n在软件开发中，\"issue\"（问题）和\"issue_commit\"（问题提交）是不同的概念。\n\n* **Issue**：表示一个在软件开发过程中发现的问题、建议或需求。这些问题可以由团队成员或用户报告。通常，在项目的问题跟踪系统（例如GitHub的issue tracker）中进行创建和管理。等待解决的问题可能包括 bug 报告、功能请求、文档改进等。\n\n* **Issue commit**：指与某个问题相关的代码提交。当解决一个问题时，通常会创建一个关联的代码提交，以修复该问题。这样可以跟踪和追溯特定问题的解决方案。\n\n所以，在事件中使用\"issue\"一词更准确，因为它广义上涵盖了所有问题阶段的描述，而不仅仅局限于与问题相关的代码提交。","number":5,"state":"OPEN","locked":false,"id":"I_kwDOJHUmoM5rh8wz","createdAt":"2023-07-14T02:49:58Z","updatedAt":"2023-07-20T09:53:22Z","title":"如何使用github action 在满足issue创建/修改/删除时，如果label包含某个值的时候创建任务","labels":[{"name":"blog","color":"ededed","id":"LA_kwDOJHUmoM8AAAABT1jffg"}],"comments":0,"img":"https://bing.com/th?id=OHR.ZhangyeGeopark_EN-US3229882052_1920x1080.jpg&rf=LaDigue_1920x1080.jpg&pid=hp","created_at":"2023-07-14T02:49:58Z","updated_at":"2023-07-20T09:53:22Z"}],"total":2},"__N_SSG":true}